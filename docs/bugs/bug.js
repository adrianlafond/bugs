!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Bug",[],e):"object"==typeof exports?exports.Bug=e():t.Bug=e()}(window,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){window,t.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return Object.defineProperty(t.prototype,"data",{get:function(){return{x:this.x,y:this.y}},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.toString=function(){return JSON.stringify(this.data)},t.distance=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},t.radians=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2);e.Angle=o.default;var r=n(0);e.Point=r.default;var i=n(3);e.Vector=i.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.toRadians=function(t){return t*Math.PI/180},t.toDegrees=function(t){return 180*t/Math.PI},t.interpolate=function(e,n,o){return t.normalize(e+t.delta(e,n)*o)},t.delta=function(e,n){var o=t.normalize(e),r=t.normalize(n),i=r-o;return Math.abs(i)>Math.PI&&(i=r-2*Math.PI-o),i},t.normalize=function(t){var e=t%(2*Math.PI);return e<0&&(e+=2*Math.PI),e},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=function(){function t(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.model={},t instanceof o.default?(this.model.point=t.clone(),this.model.radians=e):(this.model.point=new o.default(t,e),this.model.radians=n)}return Object.defineProperty(t.prototype,"point",{get:function(){return this.model.point.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.model.point.x},set:function(t){this.model.point.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.model.point.y},set:function(t){this.model.point.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radians",{get:function(){return this.model.radians},set:function(t){this.model.radians=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return{x:this.x,y:this.y,radians:this.radians}},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.point,this.radians)},t.prototype.toString=function(){return JSON.stringify(this.data)},t}();e.default=r}])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2);e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=n(3),i=function(){function t(t){void 0===t&&(t={});var e=t.x,n=void 0===e?0:e,i=t.y,a=void 0===i?0:i,s=t.radians,u=void 0===s?0:s,c=t.target||{},f=c.x,l=void 0===f?0:f,d=c.y,p=void 0===d?0:d;this.model={segments:[new r.default({vector:new o.Vector(n,a,u)})],target:new o.Point(l,p),progress:0,step:0,maxSteps:2},this.target=this.model.target}return t.prototype.tick=function(t){var e=this;void 0===t&&(t=1),this.model.progress=Math.min(1,this.model.progress+.1);var n=this.model.progress>=1;return this.model.segments.forEach(function(o){o.tick(e.model.progress*t),n&&o.step()}),n&&(this.model.progress=0,this.model.step+=1,this.model.step>=this.model.maxSteps&&(this.model.step=0)),this},Object.defineProperty(t.prototype,"target",{get:function(){return this.model.target.data},set:function(t){this.model.target.x=t.x,this.model.target.y=t.y,this.model.segments[0].target=this.model.target},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.model.segments[0].x},set:function(t){this.model.segments[0].x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.model.segments[0].y},set:function(t){this.model.segments[0].y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radians",{get:function(){return this.model.segments[0].radians},set:function(t){this.model.segments[0].radians=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"segments",{get:function(){return this.model.segments.map(function(t){return t.data})},enumerable:!0,configurable:!0}),t}();e.default=i},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(4),a=function(){function t(t){var e=this;this.model={vector:new r.Vector,legs:[[new i.default({joints:[new r.Point(2,-5),new r.Point(12,-14)]}),new i.default({joints:[new r.Point(0,-5),new r.Point(0,-16)]}),new i.default({joints:[new r.Point(-4,-5),new r.Point(-8,-12)]})],[new i.default({joints:[new r.Point(2,5),new r.Point(12,14)]}),new i.default({joints:[new r.Point(0,5),new r.Point(0,16)]}),new i.default({joints:[new r.Point(-4,5),new r.Point(-8,12)]})]],maxRotation:.5*Math.PI,maxDistance:10,target:new r.Point,vectorStart:new r.Vector,step:0},this.model=o({},this.model,t),this.model.vectorStart=this.model.vector.clone(),this.model.legs.forEach(function(t){t.forEach(function(t){t.offsetAll(e.model.vector)})}),this.step()}return Object.defineProperty(t.prototype,"target",{get:function(){return this.model.target.clone()},set:function(t){this.model.target=t},enumerable:!0,configurable:!0}),t.prototype.tick=function(t){void 0===t&&(t=0);var e=this.model,n=e.target,o=e.vectorStart,i=e.maxDistance,a=Math.min(i,r.Point.distance(n,o.point));this.moveSegment(t,a),this.moveLegs(t,a)},t.prototype.step=function(){this.model.vectorStart=this.model.vector.clone(),this.model.step=(this.model.step+1)%this.model.legs.length,this.model.legs.forEach(function(t){t.forEach(function(t){t.step()})})},t.prototype.moveSegment=function(t,e){var n=this.model,o=n.target,i=n.vector,a=n.vectorStart,s=n.maxRotation,u=Math.atan2(o.y-a.y,o.x-a.x),c=Math.max(-s,Math.min(s,r.Angle.delta(i.radians,u)));i.radians=r.Angle.normalize(a.radians)+c*t,i.x=a.x+Math.cos(i.radians)*(e*t),i.y=a.y+Math.sin(i.radians)*(e*t)},t.prototype.moveLegs=function(t,e){var n=this,o=this.model,i=o.legs,a=o.vector,s=o.vectorStart;i.forEach(function(o,i){if(o.forEach(function(t){t.offset(a)}),i===n.model.step){var u=new r.Vector(s.x+Math.cos(a.radians)*e,s.y+Math.sin(a.radians)*e,a.radians);o.forEach(function(e){e.tick(u,t)})}})},Object.defineProperty(t.prototype,"x",{get:function(){return this.model.vector.x},set:function(t){this.model.vector.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.model.vector.y},set:function(t){this.model.vector.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radians",{get:function(){return this.model.vector.radians},set:function(t){this.model.vector.radians=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return o({},this.model.vector.data,{legs:this.model.legs.map(function(t){return t.map(function(t){return t.data})})})},enumerable:!0,configurable:!0}),t}();e.default=a},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=function(){function t(t){this.model=o({},t,{map:this.clone(t.joints).map(function(t){return new r.Vector(t.x,t.y,Math.atan2(t.y,t.x))}),jointsStart:this.clone(t.joints)})}return t.prototype.offset=function(t,e){void 0===e&&(e=0);var n=this.model,o=n.joints,i=n.map,a=o[e],s=i[e],u=r.Point.distance(s.point,new r.Point(0,0)),c=s.radians+t.radians;a.x=t.x+Math.cos(c)*u,a.y=t.y+Math.sin(c)*u},t.prototype.offsetAll=function(t){var e=this;this.model.joints.forEach(function(n,o){e.offset(t,o)})},t.prototype.tick=function(t,e){var n=this.model,o=n.joints,i=n.jointsStart,a=n.map,s=o.length-1,u=Math.atan2(a[s].y,a[s].x)+t.radians,c=r.Point.distance(a[s].point,new r.Point),f=new r.Point(t.x+Math.cos(u)*c,t.y+Math.sin(u)*c),l=Math.atan2(f.y-i[s].y,f.x-i[s].x),d=r.Point.distance(f,i[s]);o[s].x=i[s].x+Math.cos(l)*(d*e),o[s].y=i[s].y+Math.sin(l)*(d*e)},t.prototype.step=function(){this.model.jointsStart=this.clone()},Object.defineProperty(t.prototype,"data",{get:function(){return this.model.joints.map(function(t){return t.data})},enumerable:!0,configurable:!0}),t.prototype.clone=function(t){return void 0===t&&(t=this.model.joints),t.map(function(t){return t.clone()})},t}();e.default=i}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9CdWcvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL0J1Zy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9CdWcvLi9ub2RlX21vZHVsZXMvQGFkcmlhbmxhZm9uZC9nZW9tL2Rpc3QvZ2VvbS5qcyIsIndlYnBhY2s6Ly9CdWcvLi9zcmMvYnVnL2luZGV4LnRzIiwid2VicGFjazovL0J1Zy8uL3NyYy9idWcvYnVnLnRzIiwid2VicGFjazovL0J1Zy8uL3NyYy9idWcvc2VnbWVudC50cyIsIndlYnBhY2s6Ly9CdWcvLi9zcmMvYnVnL2xlZy50cyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ3aW5kb3ciLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZSIsImRlZmF1bHQiLCJ0aGlzIiwieCIsInkiLCJjb25maWd1cmFibGUiLCJjbG9uZSIsImFkZCIsInN1YnRyYWN0IiwidG9TdHJpbmciLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsImRpc3RhbmNlIiwiTWF0aCIsInNxcnQiLCJyYWRpYW5zIiwiYXRhbjIiLCJBbmdsZSIsIlBvaW50IiwiVmVjdG9yIiwidG9SYWRpYW5zIiwiUEkiLCJ0b0RlZ3JlZXMiLCJpbnRlcnBvbGF0ZSIsIm5vcm1hbGl6ZSIsImRlbHRhIiwiYWJzIiwibW9kZWwiLCJwb2ludCIsInNldCIsImJ1Z18xIiwiZ2VvbV8xIiwic2VnbWVudF8xIiwiQnVnIiwib3B0aW9ucyIsIl9hIiwiX2IiLCJfYyIsIl9kIiwidGFyZ2V0IiwiX2UiLCJ0YXJnZXRYIiwiX2YiLCJ0YXJnZXRZIiwic2VnbWVudHMiLCJ2ZWN0b3IiLCJwcm9ncmVzcyIsInN0ZXAiLCJtYXhTdGVwcyIsInRpY2siLCJfdGhpcyIsIm1pbiIsImlzU3RlcENvbXBsZXRlIiwiZm9yRWFjaCIsInNlZ21lbnQiLCJtYXAiLCJfX2Fzc2lnbiIsImFzc2lnbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFwcGx5IiwibGVnXzEiLCJTZWdtZW50IiwibGVncyIsImpvaW50cyIsIm1heFJvdGF0aW9uIiwibWF4RGlzdGFuY2UiLCJ2ZWN0b3JTdGFydCIsInNpZGUiLCJsZWciLCJvZmZzZXRBbGwiLCJtb3ZlU2VnbWVudCIsIm1vdmVMZWdzIiwidGFyZ2V0UmFkaWFucyIsImRlbHRhUmFkaWFucyIsIm1heCIsImNvcyIsInNpbiIsInNpZGVJbmRleCIsIm9mZnNldCIsInRhcmdldFZlY3Rvcl8xIiwiTGVnIiwiam9pbnRzU3RhcnQiLCJpbmRleCIsImpvaW50IiwibWFwSm9pbnQiLCJyYWRpdXMiLCJsYW5kIiwibGFuZFJhZGlhbnMiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEdBQ0EsaUJBQUFDLFNBQUEsaUJBQUFDLE9BQ0FBLE9BQUFELFFBQUFELElBQ0EsbUJBQUFHLGVBQUFDLElBQ0FELE9BQUEsU0FBQUgsR0FDQSxpQkFBQUMsUUFDQUEsUUFBQSxJQUFBRCxJQUVBRCxFQUFBLElBQUFDLElBUkEsQ0FTQ0ssT0FBQSxXQUNELG1CQ1RBLElBQUFDLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQVAsUUFHQSxJQUFBQyxFQUFBSSxFQUFBRSxHQUFBLENBQ0FDLEVBQUFELEVBQ0FFLEdBQUEs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LCJmaWxlIjoiYnVnLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJCdWdcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiQnVnXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkJ1Z1wiXSA9IGZhY3RvcnkoKTtcbn0pKHdpbmRvdywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJHZW9tXCIsW10sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5HZW9tPWUoKTp0Lkdlb209ZSgpfSh3aW5kb3csZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9e307ZnVuY3Rpb24gbihyKXtpZihlW3JdKXJldHVybiBlW3JdLmV4cG9ydHM7dmFyIG89ZVtyXT17aTpyLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIHRbcl0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsbiksby5sPSEwLG8uZXhwb3J0c31yZXR1cm4gbi5tPXQsbi5jPWUsbi5kPWZ1bmN0aW9uKHQsZSxyKXtuLm8odCxlKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7ZW51bWVyYWJsZTohMCxnZXQ6cn0pfSxuLnI9ZnVuY3Rpb24odCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sbi50PWZ1bmN0aW9uKHQsZSl7aWYoMSZlJiYodD1uKHQpKSw4JmUpcmV0dXJuIHQ7aWYoNCZlJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciByPU9iamVjdC5jcmVhdGUobnVsbCk7aWYobi5yKHIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOnR9KSwyJmUmJlwic3RyaW5nXCIhPXR5cGVvZiB0KWZvcih2YXIgbyBpbiB0KW4uZChyLG8sZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19LmJpbmQobnVsbCxvKSk7cmV0dXJuIHJ9LG4ubj1mdW5jdGlvbih0KXt2YXIgZT10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gdC5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gbi5kKGUsXCJhXCIsZSksZX0sbi5vPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSxuLnA9XCJcIixuKG4ucz0xKX0oW2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT0wKSx0aGlzLng9dCx0aGlzLnk9ZX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZGF0YVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57eDp0aGlzLngseTp0aGlzLnl9fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMueCx0aGlzLnkpfSx0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCs9dC54LHRoaXMueSs9dC55LHRoaXN9LHQucHJvdG90eXBlLnN1YnRyYWN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngtPXQueCx0aGlzLnktPXQueSx0aGlzfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEpfSx0LmRpc3RhbmNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguc3FydCgodC54LWUueCkqKHQueC1lLngpKyh0LnktZS55KSoodC55LWUueSkpfSx0LnJhZGlhbnM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5hdGFuMihlLnktdC55LGUueC10LngpfSx0fSgpO2UuZGVmYXVsdD1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9bigyKTtlLkFuZ2xlPXIuZGVmYXVsdDt2YXIgbz1uKDApO2UuUG9pbnQ9by5kZWZhdWx0O3ZhciBpPW4oMyk7ZS5WZWN0b3I9aS5kZWZhdWx0fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnRvUmFkaWFucz1mdW5jdGlvbih0KXtyZXR1cm4gdCpNYXRoLlBJLzE4MH0sdC50b0RlZ3JlZXM9ZnVuY3Rpb24odCl7cmV0dXJuIDE4MCp0L01hdGguUEl9LHQuaW50ZXJwb2xhdGU9ZnVuY3Rpb24oZSxuLHIpe3JldHVybiB0Lm5vcm1hbGl6ZShlK3QuZGVsdGEoZSxuKSpyKX0sdC5kZWx0YT1mdW5jdGlvbihlLG4pe3ZhciByPXQubm9ybWFsaXplKGUpLG89dC5ub3JtYWxpemUobiksaT1vLXI7cmV0dXJuIE1hdGguYWJzKGkpPk1hdGguUEkmJihpPW8tMipNYXRoLlBJLXIpLGl9LHQubm9ybWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXQlKDIqTWF0aC5QSSk7cmV0dXJuIGU8MCYmKGUrPTIqTWF0aC5QSSksZX0sdH0oKTtlLmRlZmF1bHQ9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPW4oMCksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3ZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PW4mJihuPTApLHRoaXMubW9kZWw9e30sdCBpbnN0YW5jZW9mIHIuZGVmYXVsdD8odGhpcy5tb2RlbC5wb2ludD10LmNsb25lKCksdGhpcy5tb2RlbC5yYWRpYW5zPWUpOih0aGlzLm1vZGVsLnBvaW50PW5ldyByLmRlZmF1bHQodCxlKSx0aGlzLm1vZGVsLnJhZGlhbnM9bil9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInBvaW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGVsLnBvaW50LmNsb25lKCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwieFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RlbC5wb2ludC54fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5tb2RlbC5wb2ludC54PXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwieVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RlbC5wb2ludC55fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5tb2RlbC5wb2ludC55PXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicmFkaWFuc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RlbC5yYWRpYW5zfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5tb2RlbC5yYWRpYW5zPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZGF0YVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57eDp0aGlzLngseTp0aGlzLnkscmFkaWFuczp0aGlzLnJhZGlhbnN9fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMucG9pbnQsdGhpcy5yYWRpYW5zKX0sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhKX0sdH0oKTtlLmRlZmF1bHQ9b31dKX0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VvbS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBidWdfMSA9IHJlcXVpcmUoXCIuL2J1Z1wiKTtcbmV4cG9ydHMuZGVmYXVsdCA9IGJ1Z18xLmRlZmF1bHQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBnZW9tXzEgPSByZXF1aXJlKFwiQGFkcmlhbmxhZm9uZC9nZW9tXCIpO1xudmFyIHNlZ21lbnRfMSA9IHJlcXVpcmUoXCIuL3NlZ21lbnRcIik7XG52YXIgQnVnID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJ1ZyhvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHZhciBfYSA9IG9wdGlvbnMueCwgeCA9IF9hID09PSB2b2lkIDAgPyAwIDogX2EsIF9iID0gb3B0aW9ucy55LCB5ID0gX2IgPT09IHZvaWQgMCA/IDAgOiBfYiwgX2MgPSBvcHRpb25zLnJhZGlhbnMsIHJhZGlhbnMgPSBfYyA9PT0gdm9pZCAwID8gMCA6IF9jO1xuICAgICAgICB2YXIgX2QgPSBvcHRpb25zLnRhcmdldCB8fCB7fSwgX2UgPSBfZC54LCB0YXJnZXRYID0gX2UgPT09IHZvaWQgMCA/IDAgOiBfZSwgX2YgPSBfZC55LCB0YXJnZXRZID0gX2YgPT09IHZvaWQgMCA/IDAgOiBfZjtcbiAgICAgICAgdGhpcy5tb2RlbCA9IHtcbiAgICAgICAgICAgIHNlZ21lbnRzOiBbbmV3IHNlZ21lbnRfMS5kZWZhdWx0KHtcbiAgICAgICAgICAgICAgICAgICAgdmVjdG9yOiBuZXcgZ2VvbV8xLlZlY3Rvcih4LCB5LCByYWRpYW5zKSxcbiAgICAgICAgICAgICAgICB9KV0sXG4gICAgICAgICAgICB0YXJnZXQ6IG5ldyBnZW9tXzEuUG9pbnQodGFyZ2V0WCwgdGFyZ2V0WSksXG4gICAgICAgICAgICBwcm9ncmVzczogMCxcbiAgICAgICAgICAgIHN0ZXA6IDAsXG4gICAgICAgICAgICBtYXhTdGVwczogMixcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLm1vZGVsLnRhcmdldDtcbiAgICB9XG4gICAgQnVnLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gKGRlbHRhKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChkZWx0YSA9PT0gdm9pZCAwKSB7IGRlbHRhID0gMTsgfVxuICAgICAgICB0aGlzLm1vZGVsLnByb2dyZXNzID0gTWF0aC5taW4oMSwgdGhpcy5tb2RlbC5wcm9ncmVzcyArIDAuMSk7XG4gICAgICAgIHZhciBpc1N0ZXBDb21wbGV0ZSA9IHRoaXMubW9kZWwucHJvZ3Jlc3MgPj0gMTtcbiAgICAgICAgdGhpcy5tb2RlbC5zZWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChzZWdtZW50KSB7XG4gICAgICAgICAgICBzZWdtZW50LnRpY2soX3RoaXMubW9kZWwucHJvZ3Jlc3MgKiBkZWx0YSk7XG4gICAgICAgICAgICBpZiAoaXNTdGVwQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICBzZWdtZW50LnN0ZXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpc1N0ZXBDb21wbGV0ZSkge1xuICAgICAgICAgICAgdGhpcy5tb2RlbC5wcm9ncmVzcyA9IDA7XG4gICAgICAgICAgICB0aGlzLm1vZGVsLnN0ZXAgKz0gMTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLnN0ZXAgPj0gdGhpcy5tb2RlbC5tYXhTdGVwcykge1xuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc3RlcCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVnLnByb3RvdHlwZSwgXCJ0YXJnZXRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGVsLnRhcmdldC5kYXRhO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5tb2RlbC50YXJnZXQueCA9IHZhbHVlLng7XG4gICAgICAgICAgICB0aGlzLm1vZGVsLnRhcmdldC55ID0gdmFsdWUueTtcbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2VnbWVudHNbMF0udGFyZ2V0ID0gdGhpcy5tb2RlbC50YXJnZXQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWcucHJvdG90eXBlLCBcInhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGVsLnNlZ21lbnRzWzBdLng7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNlZ21lbnRzWzBdLnggPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1Zy5wcm90b3R5cGUsIFwieVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwuc2VnbWVudHNbMF0ueTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2VnbWVudHNbMF0ueSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVnLnByb3RvdHlwZSwgXCJyYWRpYW5zXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5zZWdtZW50c1swXS5yYWRpYW5zO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZWdtZW50c1swXS5yYWRpYW5zID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWcucHJvdG90eXBlLCBcInNlZ21lbnRzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5zZWdtZW50cy5tYXAoZnVuY3Rpb24gKHNlZ21lbnQpIHsgcmV0dXJuIHNlZ21lbnQuZGF0YTsgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBCdWc7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQnVnO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGdlb21fMSA9IHJlcXVpcmUoXCJAYWRyaWFubGFmb25kL2dlb21cIik7XG52YXIgbGVnXzEgPSByZXF1aXJlKFwiLi9sZWdcIik7XG52YXIgU2VnbWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTZWdtZW50KG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5tb2RlbCA9IHtcbiAgICAgICAgICAgIHZlY3RvcjogbmV3IGdlb21fMS5WZWN0b3IoKSxcbiAgICAgICAgICAgIGxlZ3M6IFtcbiAgICAgICAgICAgICAgICBbbmV3IGxlZ18xLmRlZmF1bHQoeyBqb2ludHM6IFtuZXcgZ2VvbV8xLlBvaW50KDIsIC01KSwgbmV3IGdlb21fMS5Qb2ludCgxMiwgLTE0KV0gfSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBsZWdfMS5kZWZhdWx0KHsgam9pbnRzOiBbbmV3IGdlb21fMS5Qb2ludCgwLCAtNSksIG5ldyBnZW9tXzEuUG9pbnQoMCwgLTE2KV0gfSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBsZWdfMS5kZWZhdWx0KHsgam9pbnRzOiBbbmV3IGdlb21fMS5Qb2ludCgtNCwgLTUpLCBuZXcgZ2VvbV8xLlBvaW50KC04LCAtMTIpXSB9KV0sXG4gICAgICAgICAgICAgICAgW25ldyBsZWdfMS5kZWZhdWx0KHsgam9pbnRzOiBbbmV3IGdlb21fMS5Qb2ludCgyLCA1KSwgbmV3IGdlb21fMS5Qb2ludCgxMiwgMTQpXSB9KSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IGxlZ18xLmRlZmF1bHQoeyBqb2ludHM6IFtuZXcgZ2VvbV8xLlBvaW50KDAsIDUpLCBuZXcgZ2VvbV8xLlBvaW50KDAsIDE2KV0gfSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBsZWdfMS5kZWZhdWx0KHsgam9pbnRzOiBbbmV3IGdlb21fMS5Qb2ludCgtNCwgNSksIG5ldyBnZW9tXzEuUG9pbnQoLTgsIDEyKV0gfSldLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIG1heFJvdGF0aW9uOiBNYXRoLlBJICogMC41LFxuICAgICAgICAgICAgbWF4RGlzdGFuY2U6IDEwLFxuICAgICAgICAgICAgdGFyZ2V0OiBuZXcgZ2VvbV8xLlBvaW50KCksXG4gICAgICAgICAgICB2ZWN0b3JTdGFydDogbmV3IGdlb21fMS5WZWN0b3IoKSxcbiAgICAgICAgICAgIHN0ZXA6IDAsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubW9kZWwgPSBfX2Fzc2lnbih7fSwgdGhpcy5tb2RlbCwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMubW9kZWwudmVjdG9yU3RhcnQgPSB0aGlzLm1vZGVsLnZlY3Rvci5jbG9uZSgpO1xuICAgICAgICB0aGlzLm1vZGVsLmxlZ3MuZm9yRWFjaChmdW5jdGlvbiAoc2lkZSkge1xuICAgICAgICAgICAgc2lkZS5mb3JFYWNoKGZ1bmN0aW9uIChsZWcpIHtcbiAgICAgICAgICAgICAgICBsZWcub2Zmc2V0QWxsKF90aGlzLm1vZGVsLnZlY3Rvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RlcCgpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VnbWVudC5wcm90b3R5cGUsIFwidGFyZ2V0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC50YXJnZXQuY2xvbmUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMubW9kZWwudGFyZ2V0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFNlZ21lbnQucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiAocHJvZ3Jlc3MpIHtcbiAgICAgICAgaWYgKHByb2dyZXNzID09PSB2b2lkIDApIHsgcHJvZ3Jlc3MgPSAwOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMubW9kZWwsIHRhcmdldCA9IF9hLnRhcmdldCwgdmVjdG9yU3RhcnQgPSBfYS52ZWN0b3JTdGFydCwgbWF4RGlzdGFuY2UgPSBfYS5tYXhEaXN0YW5jZTtcbiAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5taW4obWF4RGlzdGFuY2UsIGdlb21fMS5Qb2ludC5kaXN0YW5jZSh0YXJnZXQsIHZlY3RvclN0YXJ0LnBvaW50KSk7XG4gICAgICAgIHRoaXMubW92ZVNlZ21lbnQocHJvZ3Jlc3MsIGRpc3RhbmNlKTtcbiAgICAgICAgdGhpcy5tb3ZlTGVncyhwcm9ncmVzcywgZGlzdGFuY2UpO1xuICAgIH07XG4gICAgU2VnbWVudC5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5tb2RlbC52ZWN0b3JTdGFydCA9IHRoaXMubW9kZWwudmVjdG9yLmNsb25lKCk7XG4gICAgICAgIHRoaXMubW9kZWwuc3RlcCA9ICh0aGlzLm1vZGVsLnN0ZXAgKyAxKSAlIHRoaXMubW9kZWwubGVncy5sZW5ndGg7XG4gICAgICAgIHRoaXMubW9kZWwubGVncy5mb3JFYWNoKGZ1bmN0aW9uIChzaWRlKSB7XG4gICAgICAgICAgICBzaWRlLmZvckVhY2goZnVuY3Rpb24gKGxlZykge1xuICAgICAgICAgICAgICAgIGxlZy5zdGVwKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTZWdtZW50LnByb3RvdHlwZS5tb3ZlU2VnbWVudCA9IGZ1bmN0aW9uIChwcm9ncmVzcywgZGlzdGFuY2UpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5tb2RlbCwgdGFyZ2V0ID0gX2EudGFyZ2V0LCB2ZWN0b3IgPSBfYS52ZWN0b3IsIHZlY3RvclN0YXJ0ID0gX2EudmVjdG9yU3RhcnQsIG1heFJvdGF0aW9uID0gX2EubWF4Um90YXRpb247XG4gICAgICAgIHZhciB0YXJnZXRSYWRpYW5zID0gTWF0aC5hdGFuMih0YXJnZXQueSAtIHZlY3RvclN0YXJ0LnksIHRhcmdldC54IC0gdmVjdG9yU3RhcnQueCk7XG4gICAgICAgIHZhciBkZWx0YVJhZGlhbnMgPSBNYXRoLm1heCgtbWF4Um90YXRpb24sIE1hdGgubWluKG1heFJvdGF0aW9uLCBnZW9tXzEuQW5nbGUuZGVsdGEodmVjdG9yLnJhZGlhbnMsIHRhcmdldFJhZGlhbnMpKSk7XG4gICAgICAgIHZlY3Rvci5yYWRpYW5zID0gZ2VvbV8xLkFuZ2xlLm5vcm1hbGl6ZSh2ZWN0b3JTdGFydC5yYWRpYW5zKSArIGRlbHRhUmFkaWFucyAqIHByb2dyZXNzO1xuICAgICAgICB2ZWN0b3IueCA9IHZlY3RvclN0YXJ0LnggKyBNYXRoLmNvcyh2ZWN0b3IucmFkaWFucykgKiAoZGlzdGFuY2UgKiBwcm9ncmVzcyk7XG4gICAgICAgIHZlY3Rvci55ID0gdmVjdG9yU3RhcnQueSArIE1hdGguc2luKHZlY3Rvci5yYWRpYW5zKSAqIChkaXN0YW5jZSAqIHByb2dyZXNzKTtcbiAgICB9O1xuICAgIFNlZ21lbnQucHJvdG90eXBlLm1vdmVMZWdzID0gZnVuY3Rpb24gKHByb2dyZXNzLCBkaXN0YW5jZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSB0aGlzLm1vZGVsLCBsZWdzID0gX2EubGVncywgdmVjdG9yID0gX2EudmVjdG9yLCB2ZWN0b3JTdGFydCA9IF9hLnZlY3RvclN0YXJ0O1xuICAgICAgICBsZWdzLmZvckVhY2goZnVuY3Rpb24gKHNpZGUsIHNpZGVJbmRleCkge1xuICAgICAgICAgICAgc2lkZS5mb3JFYWNoKGZ1bmN0aW9uIChsZWcpIHtcbiAgICAgICAgICAgICAgICBsZWcub2Zmc2V0KHZlY3Rvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChzaWRlSW5kZXggPT09IF90aGlzLm1vZGVsLnN0ZXApIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0VmVjdG9yXzEgPSBuZXcgZ2VvbV8xLlZlY3Rvcih2ZWN0b3JTdGFydC54ICsgTWF0aC5jb3ModmVjdG9yLnJhZGlhbnMpICogZGlzdGFuY2UsIHZlY3RvclN0YXJ0LnkgKyBNYXRoLnNpbih2ZWN0b3IucmFkaWFucykgKiBkaXN0YW5jZSwgdmVjdG9yLnJhZGlhbnMpO1xuICAgICAgICAgICAgICAgIHNpZGUuZm9yRWFjaChmdW5jdGlvbiAobGVnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZy50aWNrKHRhcmdldFZlY3Rvcl8xLCBwcm9ncmVzcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlZ21lbnQucHJvdG90eXBlLCBcInhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGVsLnZlY3Rvci54O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5tb2RlbC52ZWN0b3IueCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VnbWVudC5wcm90b3R5cGUsIFwieVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwudmVjdG9yLnk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGVsLnZlY3Rvci55ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZWdtZW50LnByb3RvdHlwZSwgXCJyYWRpYW5zXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC52ZWN0b3IucmFkaWFucztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMubW9kZWwudmVjdG9yLnJhZGlhbnMgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlZ21lbnQucHJvdG90eXBlLCBcImRhdGFcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgdGhpcy5tb2RlbC52ZWN0b3IuZGF0YSwgeyBsZWdzOiB0aGlzLm1vZGVsLmxlZ3MubWFwKGZ1bmN0aW9uIChzaWRlKSB7IHJldHVybiAoc2lkZS5tYXAoZnVuY3Rpb24gKGxlZykgeyByZXR1cm4gbGVnLmRhdGE7IH0pKTsgfSkgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBTZWdtZW50O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFNlZ21lbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZ2VvbV8xID0gcmVxdWlyZShcIkBhZHJpYW5sYWZvbmQvZ2VvbVwiKTtcbnZhciBMZWcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVnKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tb2RlbCA9IF9fYXNzaWduKHt9LCBvcHRpb25zLCB7IG1hcDogdGhpcy5jbG9uZShvcHRpb25zLmpvaW50cykubWFwKGZ1bmN0aW9uIChwb2ludCkgeyByZXR1cm4gbmV3IGdlb21fMS5WZWN0b3IocG9pbnQueCwgcG9pbnQueSwgTWF0aC5hdGFuMihwb2ludC55LCBwb2ludC54KSk7IH0pLCBqb2ludHNTdGFydDogdGhpcy5jbG9uZShvcHRpb25zLmpvaW50cykgfSk7XG4gICAgfVxuICAgIExlZy5wcm90b3R5cGUub2Zmc2V0ID0gZnVuY3Rpb24gKHZlY3RvciwgaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSB2b2lkIDApIHsgaW5kZXggPSAwOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMubW9kZWwsIGpvaW50cyA9IF9hLmpvaW50cywgbWFwID0gX2EubWFwO1xuICAgICAgICB2YXIgam9pbnQgPSBqb2ludHNbaW5kZXhdO1xuICAgICAgICB2YXIgbWFwSm9pbnQgPSBtYXBbaW5kZXhdO1xuICAgICAgICB2YXIgZGlzdGFuY2UgPSBnZW9tXzEuUG9pbnQuZGlzdGFuY2UobWFwSm9pbnQucG9pbnQsIG5ldyBnZW9tXzEuUG9pbnQoMCwgMCkpO1xuICAgICAgICB2YXIgcmFkaWFucyA9IG1hcEpvaW50LnJhZGlhbnMgKyB2ZWN0b3IucmFkaWFucztcbiAgICAgICAgam9pbnQueCA9IHZlY3Rvci54ICsgTWF0aC5jb3MocmFkaWFucykgKiBkaXN0YW5jZTtcbiAgICAgICAgam9pbnQueSA9IHZlY3Rvci55ICsgTWF0aC5zaW4ocmFkaWFucykgKiBkaXN0YW5jZTtcbiAgICB9O1xuICAgIExlZy5wcm90b3R5cGUub2Zmc2V0QWxsID0gZnVuY3Rpb24gKHZlY3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLm1vZGVsLmpvaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChqb2ludCwgaW5kZXgpIHtcbiAgICAgICAgICAgIF90aGlzLm9mZnNldCh2ZWN0b3IsIGluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWcucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiAodmVjdG9yLCBwcm9ncmVzcykge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLm1vZGVsLCBqb2ludHMgPSBfYS5qb2ludHMsIGpvaW50c1N0YXJ0ID0gX2Euam9pbnRzU3RhcnQsIG1hcCA9IF9hLm1hcDtcbiAgICAgICAgdmFyIGluZGV4ID0gam9pbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgIHZhciByYWRpYW5zID0gTWF0aC5hdGFuMihtYXBbaW5kZXhdLnksIG1hcFtpbmRleF0ueCkgKyB2ZWN0b3IucmFkaWFucztcbiAgICAgICAgdmFyIHJhZGl1cyA9IGdlb21fMS5Qb2ludC5kaXN0YW5jZShtYXBbaW5kZXhdLnBvaW50LCBuZXcgZ2VvbV8xLlBvaW50KCkpO1xuICAgICAgICB2YXIgbGFuZCA9IG5ldyBnZW9tXzEuUG9pbnQodmVjdG9yLnggKyBNYXRoLmNvcyhyYWRpYW5zKSAqIHJhZGl1cywgdmVjdG9yLnkgKyBNYXRoLnNpbihyYWRpYW5zKSAqIHJhZGl1cyk7XG4gICAgICAgIHZhciBsYW5kUmFkaWFucyA9IE1hdGguYXRhbjIobGFuZC55IC0gam9pbnRzU3RhcnRbaW5kZXhdLnksIGxhbmQueCAtIGpvaW50c1N0YXJ0W2luZGV4XS54KTtcbiAgICAgICAgdmFyIGRpc3RhbmNlID0gZ2VvbV8xLlBvaW50LmRpc3RhbmNlKGxhbmQsIGpvaW50c1N0YXJ0W2luZGV4XSk7XG4gICAgICAgIGpvaW50c1tpbmRleF0ueCA9IGpvaW50c1N0YXJ0W2luZGV4XS54ICsgTWF0aC5jb3MobGFuZFJhZGlhbnMpICpcbiAgICAgICAgICAgIChkaXN0YW5jZSAqIHByb2dyZXNzKTtcbiAgICAgICAgam9pbnRzW2luZGV4XS55ID0gam9pbnRzU3RhcnRbaW5kZXhdLnkgKyBNYXRoLnNpbihsYW5kUmFkaWFucykgKlxuICAgICAgICAgICAgKGRpc3RhbmNlICogcHJvZ3Jlc3MpO1xuICAgIH07XG4gICAgTGVnLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm1vZGVsLmpvaW50c1N0YXJ0ID0gdGhpcy5jbG9uZSgpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExlZy5wcm90b3R5cGUsIFwiZGF0YVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwuam9pbnRzLm1hcChmdW5jdGlvbiAoam9pbnQpIHsgcmV0dXJuIGpvaW50LmRhdGE7IH0pO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBMZWcucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKGpvaW50cykge1xuICAgICAgICBpZiAoam9pbnRzID09PSB2b2lkIDApIHsgam9pbnRzID0gdGhpcy5tb2RlbC5qb2ludHM7IH1cbiAgICAgICAgcmV0dXJuIGpvaW50cy5tYXAoZnVuY3Rpb24gKGpvaW50KSB7IHJldHVybiBqb2ludC5jbG9uZSgpOyB9KTtcbiAgICB9O1xuICAgIHJldHVybiBMZWc7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTGVnO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==