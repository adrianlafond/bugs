!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Bug",[],e):"object"==typeof exports?exports.Bug=e():t.Bug=e()}(window,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){window,t.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return Object.defineProperty(t.prototype,"data",{get:function(){return{x:this.x,y:this.y}},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.toString=function(){return JSON.stringify(this.data)},t.distance=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},t.radians=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2);e.Angle=o.default;var r=n(0);e.Point=r.default;var i=n(3);e.Vector=i.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.toRadians=function(t){return t*Math.PI/180},t.toDegrees=function(t){return 180*t/Math.PI},t.interpolate=function(e,n,o){return t.normalize(e+t.delta(e,n)*o)},t.delta=function(e,n){var o=t.normalize(e),r=t.normalize(n),i=r-o;return Math.abs(i)>Math.PI&&(i=r-2*Math.PI-o),i},t.normalize=function(t){var e=t%(2*Math.PI);return e<0&&(e+=2*Math.PI),e},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=function(){function t(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.model={},t instanceof o.default?(this.model.point=t.clone(),this.model.radians=e):(this.model.point=new o.default(t,e),this.model.radians=n)}return Object.defineProperty(t.prototype,"point",{get:function(){return this.model.point.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.model.point.x},set:function(t){this.model.point.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.model.point.y},set:function(t){this.model.point.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radians",{get:function(){return this.model.radians},set:function(t){this.model.radians=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return{x:this.x,y:this.y,radians:this.radians}},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.point,this.radians)},t.prototype.toString=function(){return JSON.stringify(this.data)},t}();e.default=r}])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2);e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=n(3),i=function(){function t(t){void 0===t&&(t={});var e=t.x,n=void 0===e?0:e,i=t.y,a=void 0===i?0:i,s=t.radians,u=void 0===s?0:s,c=t.target||{},f=c.x,d=void 0===f?0:f,l=c.y,p=void 0===l?0:l;this.model={segments:[new r.default({vector:new o.Vector(n,a,u),onTargetReached:this.onTargetReached.bind(this)})],target:new o.Point(d,p),progress:0,step:0,maxSteps:2,onTargetReached:t.onTargetReached||function(){}},this.target=this.model.target}return t.prototype.tick=function(t){var e=this;void 0===t&&(t=1),this.model.progress=Math.min(1,this.model.progress+.1);var n=this.model.progress>=1;return this.model.segments.forEach(function(t){t.tick(e.model.progress),n&&t.step()}),n&&(this.model.progress=0,this.model.step+=1,this.model.step>=this.model.maxSteps&&(this.model.step=0)),this},Object.defineProperty(t.prototype,"target",{get:function(){return this.model.target.data},set:function(t){this.model.target.x=t.x,this.model.target.y=t.y,this.model.segments[0].target=this.model.target},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.model.segments[0].x},set:function(t){this.model.segments[0].x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.model.segments[0].y},set:function(t){this.model.segments[0].y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radians",{get:function(){return this.model.segments[0].radians},set:function(t){this.model.segments[0].radians=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"segments",{get:function(){return this.model.segments.map(function(t){return t.data})},enumerable:!0,configurable:!0}),t.prototype.onTargetReached=function(t){this.model.onTargetReached(t)},t}();e.default=i},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(4),a=function(){function t(t){var e=this;this.model={vector:new r.Vector,legs:[[new i.default({joints:[new r.Point(2,-5),new r.Point(12,-14)]}),new i.default({joints:[new r.Point(0,-5),new r.Point(0,-16)]}),new i.default({joints:[new r.Point(-4,-5),new r.Point(-8,-12)]})],[new i.default({joints:[new r.Point(2,5),new r.Point(12,14)]}),new i.default({joints:[new r.Point(0,5),new r.Point(0,16)]}),new i.default({joints:[new r.Point(-4,5),new r.Point(-8,12)]})]],maxRotation:.5*Math.PI,maxDistance:10,target:new r.Point,vectorStart:new r.Vector,step:0,onTargetReached:null},this.model=o({},this.model,t),this.model.vectorStart=this.model.vector.clone(),this.model.legs.forEach(function(t){t.forEach(function(t){t.offsetAll(e.model.vector)})}),this.step()}return Object.defineProperty(t.prototype,"target",{get:function(){return this.model.target.clone()},set:function(t){this.model.target=t},enumerable:!0,configurable:!0}),t.prototype.tick=function(t){void 0===t&&(t=0);var e=this.model,n=e.target,o=e.vectorStart,i=e.maxDistance,a=Math.min(i,r.Point.distance(n,o.point));this.moveSegment(t,a),this.moveLegs(t,a)},t.prototype.step=function(){this.restartStep(),this.model.step=(this.model.step+1)%this.model.legs.length},t.prototype.restartStep=function(){this.model.vectorStart=this.model.vector.clone(),this.model.legs.forEach(function(t){t.forEach(function(t){t.restartStep()})})},t.prototype.moveSegment=function(t,e){var n=this.model,o=n.target,i=n.vector,a=n.vectorStart,s=n.maxDistance,u=n.maxRotation,c=n.onTargetReached,f=Math.atan2(o.y-a.y,o.x-a.x),d=Math.max(-u,Math.min(u,r.Angle.delta(i.radians,f)));i.radians=r.Angle.normalize(a.radians)+d*t,i.x=a.x+Math.cos(i.radians)*(e*t),i.y=a.y+Math.sin(i.radians)*(e*t),c&&r.Point.distance(o,i.point)<=s&&c(o)},t.prototype.moveLegs=function(t,e){var n=this,o=this.model,i=o.legs,a=o.vector,s=o.vectorStart;i.forEach(function(o,i){if(o.forEach(function(t){t.offset(a)}),i===n.model.step){var u=new r.Vector(s.x+Math.cos(a.radians)*e,s.y+Math.sin(a.radians)*e,a.radians);o.forEach(function(e){e.tick(u,t)})}})},Object.defineProperty(t.prototype,"x",{get:function(){return this.model.vector.x},set:function(t){this.model.vector.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.model.vector.y},set:function(t){this.model.vector.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radians",{get:function(){return this.model.vector.radians},set:function(t){this.model.vector.radians=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return o({},this.model.vector.data,{legs:this.model.legs.map(function(t){return t.map(function(t){return t.data})})})},enumerable:!0,configurable:!0}),t}();e.default=a},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=function(){function t(t){this.model=o({},t,{map:this.clone(t.joints).map(function(t){return new r.Vector(t.x,t.y,Math.atan2(t.y,t.x))}),jointsStart:this.clone(t.joints)})}return t.prototype.offset=function(t,e){void 0===e&&(e=0);var n=this.model,o=n.joints,i=n.map,a=o[e],s=i[e],u=r.Point.distance(s.point,new r.Point(0,0)),c=s.radians+t.radians;a.x=t.x+Math.cos(c)*u,a.y=t.y+Math.sin(c)*u},t.prototype.offsetAll=function(t){var e=this;this.model.joints.forEach(function(n,o){e.offset(t,o)})},t.prototype.tick=function(t,e){var n=this.model,o=n.joints,i=n.jointsStart,a=n.map,s=o.length-1,u=Math.atan2(a[s].y,a[s].x)+t.radians,c=r.Point.distance(a[s].point,new r.Point),f=new r.Point(t.x+Math.cos(u)*c,t.y+Math.sin(u)*c),d=Math.atan2(f.y-i[s].y,f.x-i[s].x),l=r.Point.distance(f,i[s]);o[s].x=i[s].x+Math.cos(d)*(l*e),o[s].y=i[s].y+Math.sin(d)*(l*e)},t.prototype.restartStep=function(){this.model.jointsStart=this.clone()},Object.defineProperty(t.prototype,"data",{get:function(){return this.model.joints.map(function(t){return t.data})},enumerable:!0,configurable:!0}),t.prototype.clone=function(t){return void 0===t&&(t=this.model.joints),t.map(function(t){return t.clone()})},t}();e.default=i}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9CdWcvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL0J1Zy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9CdWcvLi9ub2RlX21vZHVsZXMvQGFkcmlhbmxhZm9uZC9nZW9tL2Rpc3QvZ2VvbS5qcyIsIndlYnBhY2s6Ly9CdWcvLi9zcmMvYnVnL2luZGV4LnRzIiwid2VicGFjazovL0J1Zy8uL3NyYy9idWcvYnVnLnRzIiwid2VicGFjazovL0J1Zy8uL3NyYy9idWcvc2VnbWVudC50cyIsIndlYnBhY2s6Ly9CdWcvLi9zcmMvYnVnL2xlZy50cyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ3aW5kb3ciLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZSIsImRlZmF1bHQiLCJ0aGlzIiwieCIsInkiLCJjb25maWd1cmFibGUiLCJjbG9uZSIsImFkZCIsInN1YnRyYWN0IiwidG9TdHJpbmciLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsImRpc3RhbmNlIiwiTWF0aCIsInNxcnQiLCJyYWRpYW5zIiwiYXRhbjIiLCJBbmdsZSIsIlBvaW50IiwiVmVjdG9yIiwidG9SYWRpYW5zIiwiUEkiLCJ0b0RlZ3JlZXMiLCJpbnRlcnBvbGF0ZSIsIm5vcm1hbGl6ZSIsImRlbHRhIiwiYWJzIiwibW9kZWwiLCJwb2ludCIsInNldCIsImJ1Z18xIiwiZ2VvbV8xIiwic2VnbWVudF8xIiwiQnVnIiwib3B0aW9ucyIsIl9hIiwiX2IiLCJfYyIsIl9kIiwidGFyZ2V0IiwiX2UiLCJ0YXJnZXRYIiwiX2YiLCJ0YXJnZXRZIiwic2VnbWVudHMiLCJ2ZWN0b3IiLCJvblRhcmdldFJlYWNoZWQiLCJwcm9ncmVzcyIsInN0ZXAiLCJtYXhTdGVwcyIsInRpY2siLCJfdGhpcyIsIm1pbiIsImlzU3RlcENvbXBsZXRlIiwiZm9yRWFjaCIsInNlZ21lbnQiLCJtYXAiLCJfX2Fzc2lnbiIsImFzc2lnbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFwcGx5IiwibGVnXzEiLCJTZWdtZW50IiwibGVncyIsImpvaW50cyIsIm1heFJvdGF0aW9uIiwibWF4RGlzdGFuY2UiLCJ2ZWN0b3JTdGFydCIsInNpZGUiLCJsZWciLCJvZmZzZXRBbGwiLCJtb3ZlU2VnbWVudCIsIm1vdmVMZWdzIiwicmVzdGFydFN0ZXAiLCJ0YXJnZXRSYWRpYW5zIiwiZGVsdGFSYWRpYW5zIiwibWF4IiwiY29zIiwic2luIiwic2lkZUluZGV4Iiwib2Zmc2V0IiwidGFyZ2V0VmVjdG9yXzEiLCJMZWciLCJqb2ludHNTdGFydCIsImluZGV4Iiwiam9pbnQiLCJtYXBKb2ludCIsInJhZGl1cyIsImxhbmQiLCJsYW5kUmFkaWFucyJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsR0FDQSxpQkFBQUMsU0FBQSxpQkFBQUMsT0FDQUEsT0FBQUQsUUFBQUQsSUFDQSxtQkFBQUcsZUFBQUMsSUFDQUQsT0FBQSxTQUFBSCxHQUNBLGlCQUFBQyxRQUNBQSxRQUFBLElBQUFELElBRUFELEVBQUEsSUFBQUMsSUFSQSxDQVNDSyxPQUFBLFdBQ0QsbUJDVEEsSUFBQUMsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBUCxRQUdBLElBQUFDLEVBQUFJLEVB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LFlBQUFuRixLQUFBSSxTQUVBNUIsT0FBQUMsZUFBQXlHLEVBQUF4RixVQUFBLFFBQ0FmLElBQUEsV0FDQSxPQUFBcUIsS0FBQTBCLE1BQUFzQyxPQUFBVCxJQUFBLFNBQUE4QixHQUEyRCxPQUFBQSxFQUFBM0UsUUFFM0RoQyxZQUFBLEVBQ0F5QixjQUFBLElBRUErRSxFQUFBeEYsVUFBQVUsTUFBQSxTQUFBNEQsR0FFQSxZQURBLElBQUFBLElBQWdDQSxFQUFBaEUsS0FBQTBCLE1BQUFzQyxRQUNoQ0EsRUFBQVQsSUFBQSxTQUFBOEIsR0FBNEMsT0FBQUEsRUFBQWpGLFdBRTVDOEUsRUEvQ0EsR0FpREE1SCxFQUFBeUMsUUFBQW1GIiwiZmlsZSI6ImJ1Zy5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiQnVnXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkJ1Z1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJCdWdcIl0gPSBmYWN0b3J5KCk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiR2VvbVwiLFtdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuR2VvbT1lKCk6dC5HZW9tPWUoKX0od2luZG93LGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4ocil7aWYoZVtyXSlyZXR1cm4gZVtyXS5leHBvcnRzO3ZhciBvPWVbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiB0W3JdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLG4pLG8ubD0hMCxvLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUscil7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sbi5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9bih0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkocixcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIG8gaW4gdCluLmQocixvLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwsbykpO3JldHVybiByfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLFwiYVwiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPVwiXCIsbihuLnM9MSl9KFtmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09ZSYmKGU9MCksdGhpcy54PXQsdGhpcy55PWV9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImRhdGFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJue3g6dGhpcy54LHk6dGhpcy55fX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLngsdGhpcy55KX0sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngrPXQueCx0aGlzLnkrPXQueSx0aGlzfSx0LnByb3RvdHlwZS5zdWJ0cmFjdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54LT10LngsdGhpcy55LT10LnksdGhpc30sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhKX0sdC5kaXN0YW5jZT1mdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLnNxcnQoKHQueC1lLngpKih0LngtZS54KSsodC55LWUueSkqKHQueS1lLnkpKX0sdC5yYWRpYW5zPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguYXRhbjIoZS55LXQueSxlLngtdC54KX0sdH0oKTtlLmRlZmF1bHQ9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPW4oMik7ZS5BbmdsZT1yLmRlZmF1bHQ7dmFyIG89bigwKTtlLlBvaW50PW8uZGVmYXVsdDt2YXIgaT1uKDMpO2UuVmVjdG9yPWkuZGVmYXVsdH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC50b1JhZGlhbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHQqTWF0aC5QSS8xODB9LHQudG9EZWdyZWVzPWZ1bmN0aW9uKHQpe3JldHVybiAxODAqdC9NYXRoLlBJfSx0LmludGVycG9sYXRlPWZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gdC5ub3JtYWxpemUoZSt0LmRlbHRhKGUsbikqcil9LHQuZGVsdGE9ZnVuY3Rpb24oZSxuKXt2YXIgcj10Lm5vcm1hbGl6ZShlKSxvPXQubm9ybWFsaXplKG4pLGk9by1yO3JldHVybiBNYXRoLmFicyhpKT5NYXRoLlBJJiYoaT1vLTIqTWF0aC5QSS1yKSxpfSx0Lm5vcm1hbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10JSgyKk1hdGguUEkpO3JldHVybiBlPDAmJihlKz0yKk1hdGguUEkpLGV9LHR9KCk7ZS5kZWZhdWx0PXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1uKDApLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1uJiYobj0wKSx0aGlzLm1vZGVsPXt9LHQgaW5zdGFuY2VvZiByLmRlZmF1bHQ/KHRoaXMubW9kZWwucG9pbnQ9dC5jbG9uZSgpLHRoaXMubW9kZWwucmFkaWFucz1lKToodGhpcy5tb2RlbC5wb2ludD1uZXcgci5kZWZhdWx0KHQsZSksdGhpcy5tb2RlbC5yYWRpYW5zPW4pfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJwb2ludFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RlbC5wb2ludC5jbG9uZSgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kZWwucG9pbnQueH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMubW9kZWwucG9pbnQueD10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kZWwucG9pbnQueX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMubW9kZWwucG9pbnQueT10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInJhZGlhbnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kZWwucmFkaWFuc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMubW9kZWwucmFkaWFucz10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImRhdGFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJue3g6dGhpcy54LHk6dGhpcy55LHJhZGlhbnM6dGhpcy5yYWRpYW5zfX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLnBvaW50LHRoaXMucmFkaWFucyl9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YSl9LHR9KCk7ZS5kZWZhdWx0PW99XSl9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlb20uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgYnVnXzEgPSByZXF1aXJlKFwiLi9idWdcIik7XG5leHBvcnRzLmRlZmF1bHQgPSBidWdfMS5kZWZhdWx0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZ2VvbV8xID0gcmVxdWlyZShcIkBhZHJpYW5sYWZvbmQvZ2VvbVwiKTtcbnZhciBzZWdtZW50XzEgPSByZXF1aXJlKFwiLi9zZWdtZW50XCIpO1xudmFyIEJ1ZyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCdWcob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB2YXIgX2EgPSBvcHRpb25zLngsIHggPSBfYSA9PT0gdm9pZCAwID8gMCA6IF9hLCBfYiA9IG9wdGlvbnMueSwgeSA9IF9iID09PSB2b2lkIDAgPyAwIDogX2IsIF9jID0gb3B0aW9ucy5yYWRpYW5zLCByYWRpYW5zID0gX2MgPT09IHZvaWQgMCA/IDAgOiBfYztcbiAgICAgICAgdmFyIF9kID0gb3B0aW9ucy50YXJnZXQgfHwge30sIF9lID0gX2QueCwgdGFyZ2V0WCA9IF9lID09PSB2b2lkIDAgPyAwIDogX2UsIF9mID0gX2QueSwgdGFyZ2V0WSA9IF9mID09PSB2b2lkIDAgPyAwIDogX2Y7XG4gICAgICAgIHRoaXMubW9kZWwgPSB7XG4gICAgICAgICAgICBzZWdtZW50czogW25ldyBzZWdtZW50XzEuZGVmYXVsdCh7XG4gICAgICAgICAgICAgICAgICAgIHZlY3RvcjogbmV3IGdlb21fMS5WZWN0b3IoeCwgeSwgcmFkaWFucyksXG4gICAgICAgICAgICAgICAgICAgIG9uVGFyZ2V0UmVhY2hlZDogdGhpcy5vblRhcmdldFJlYWNoZWQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgICB9KV0sXG4gICAgICAgICAgICB0YXJnZXQ6IG5ldyBnZW9tXzEuUG9pbnQodGFyZ2V0WCwgdGFyZ2V0WSksXG4gICAgICAgICAgICBwcm9ncmVzczogMCxcbiAgICAgICAgICAgIHN0ZXA6IDAsXG4gICAgICAgICAgICBtYXhTdGVwczogMixcbiAgICAgICAgICAgIG9uVGFyZ2V0UmVhY2hlZDogb3B0aW9ucy5vblRhcmdldFJlYWNoZWQgfHwgKGZ1bmN0aW9uICgpIHsgfSksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5tb2RlbC50YXJnZXQ7XG4gICAgfVxuICAgIEJ1Zy5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uIChkZWx0YSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoZGVsdGEgPT09IHZvaWQgMCkgeyBkZWx0YSA9IDE7IH1cbiAgICAgICAgLy8gVE9ETzogSW5jb3Jwb3JhdGUgZGVsdGEgYXMgYW4gb3B0aW9uPyBNYWtlcyBmb3IgdW5zbW9vdGggYW5pbWF0aW9uIGV2ZW5cbiAgICAgICAgLy8gaWYgaW5jb3Jwb3JhdGluZyBpdCBpcyBtb3JlIFwiYWNjdXJhdGVcIi5cbiAgICAgICAgdGhpcy5tb2RlbC5wcm9ncmVzcyA9IE1hdGgubWluKDEsIHRoaXMubW9kZWwucHJvZ3Jlc3MgKyAwLjEpOyAvLyAqIGRlbHRhXG4gICAgICAgIHZhciBpc1N0ZXBDb21wbGV0ZSA9IHRoaXMubW9kZWwucHJvZ3Jlc3MgPj0gMTtcbiAgICAgICAgdGhpcy5tb2RlbC5zZWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChzZWdtZW50KSB7XG4gICAgICAgICAgICBzZWdtZW50LnRpY2soX3RoaXMubW9kZWwucHJvZ3Jlc3MpO1xuICAgICAgICAgICAgaWYgKGlzU3RlcENvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgc2VnbWVudC5zdGVwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaXNTdGVwQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHRoaXMubW9kZWwucHJvZ3Jlc3MgPSAwO1xuICAgICAgICAgICAgdGhpcy5tb2RlbC5zdGVwICs9IDE7XG4gICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5zdGVwID49IHRoaXMubW9kZWwubWF4U3RlcHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnN0ZXAgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1Zy5wcm90b3R5cGUsIFwidGFyZ2V0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC50YXJnZXQuZGF0YTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMubW9kZWwudGFyZ2V0LnggPSB2YWx1ZS54O1xuICAgICAgICAgICAgdGhpcy5tb2RlbC50YXJnZXQueSA9IHZhbHVlLnk7XG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNlZ21lbnRzWzBdLnRhcmdldCA9IHRoaXMubW9kZWwudGFyZ2V0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVnLnByb3RvdHlwZSwgXCJ4XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5zZWdtZW50c1swXS54O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZWdtZW50c1swXS54ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWcucHJvdG90eXBlLCBcInlcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGVsLnNlZ21lbnRzWzBdLnk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNlZ21lbnRzWzBdLnkgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1Zy5wcm90b3R5cGUsIFwicmFkaWFuc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwuc2VnbWVudHNbMF0ucmFkaWFucztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2VnbWVudHNbMF0ucmFkaWFucyA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVnLnByb3RvdHlwZSwgXCJzZWdtZW50c1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwuc2VnbWVudHMubWFwKGZ1bmN0aW9uIChzZWdtZW50KSB7IHJldHVybiBzZWdtZW50LmRhdGE7IH0pO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBCdWcucHJvdG90eXBlLm9uVGFyZ2V0UmVhY2hlZCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdGhpcy5tb2RlbC5vblRhcmdldFJlYWNoZWQodGFyZ2V0KTtcbiAgICB9O1xuICAgIHJldHVybiBCdWc7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQnVnO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGdlb21fMSA9IHJlcXVpcmUoXCJAYWRyaWFubGFmb25kL2dlb21cIik7XG52YXIgbGVnXzEgPSByZXF1aXJlKFwiLi9sZWdcIik7XG52YXIgU2VnbWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTZWdtZW50KG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5tb2RlbCA9IHtcbiAgICAgICAgICAgIHZlY3RvcjogbmV3IGdlb21fMS5WZWN0b3IoKSxcbiAgICAgICAgICAgIGxlZ3M6IFtcbiAgICAgICAgICAgICAgICBbbmV3IGxlZ18xLmRlZmF1bHQoeyBqb2ludHM6IFtuZXcgZ2VvbV8xLlBvaW50KDIsIC01KSwgbmV3IGdlb21fMS5Qb2ludCgxMiwgLTE0KV0gfSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBsZWdfMS5kZWZhdWx0KHsgam9pbnRzOiBbbmV3IGdlb21fMS5Qb2ludCgwLCAtNSksIG5ldyBnZW9tXzEuUG9pbnQoMCwgLTE2KV0gfSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBsZWdfMS5kZWZhdWx0KHsgam9pbnRzOiBbbmV3IGdlb21fMS5Qb2ludCgtNCwgLTUpLCBuZXcgZ2VvbV8xLlBvaW50KC04LCAtMTIpXSB9KV0sXG4gICAgICAgICAgICAgICAgW25ldyBsZWdfMS5kZWZhdWx0KHsgam9pbnRzOiBbbmV3IGdlb21fMS5Qb2ludCgyLCA1KSwgbmV3IGdlb21fMS5Qb2ludCgxMiwgMTQpXSB9KSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IGxlZ18xLmRlZmF1bHQoeyBqb2ludHM6IFtuZXcgZ2VvbV8xLlBvaW50KDAsIDUpLCBuZXcgZ2VvbV8xLlBvaW50KDAsIDE2KV0gfSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBsZWdfMS5kZWZhdWx0KHsgam9pbnRzOiBbbmV3IGdlb21fMS5Qb2ludCgtNCwgNSksIG5ldyBnZW9tXzEuUG9pbnQoLTgsIDEyKV0gfSldLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIG1heFJvdGF0aW9uOiBNYXRoLlBJICogMC41LFxuICAgICAgICAgICAgbWF4RGlzdGFuY2U6IDEwLFxuICAgICAgICAgICAgdGFyZ2V0OiBuZXcgZ2VvbV8xLlBvaW50KCksXG4gICAgICAgICAgICB2ZWN0b3JTdGFydDogbmV3IGdlb21fMS5WZWN0b3IoKSxcbiAgICAgICAgICAgIHN0ZXA6IDAsXG4gICAgICAgICAgICBvblRhcmdldFJlYWNoZWQ6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubW9kZWwgPSBfX2Fzc2lnbih7fSwgdGhpcy5tb2RlbCwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMubW9kZWwudmVjdG9yU3RhcnQgPSB0aGlzLm1vZGVsLnZlY3Rvci5jbG9uZSgpO1xuICAgICAgICB0aGlzLm1vZGVsLmxlZ3MuZm9yRWFjaChmdW5jdGlvbiAoc2lkZSkge1xuICAgICAgICAgICAgc2lkZS5mb3JFYWNoKGZ1bmN0aW9uIChsZWcpIHtcbiAgICAgICAgICAgICAgICBsZWcub2Zmc2V0QWxsKF90aGlzLm1vZGVsLnZlY3Rvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RlcCgpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VnbWVudC5wcm90b3R5cGUsIFwidGFyZ2V0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC50YXJnZXQuY2xvbmUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMubW9kZWwudGFyZ2V0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFNlZ21lbnQucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiAocHJvZ3Jlc3MpIHtcbiAgICAgICAgaWYgKHByb2dyZXNzID09PSB2b2lkIDApIHsgcHJvZ3Jlc3MgPSAwOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMubW9kZWwsIHRhcmdldCA9IF9hLnRhcmdldCwgdmVjdG9yU3RhcnQgPSBfYS52ZWN0b3JTdGFydCwgbWF4RGlzdGFuY2UgPSBfYS5tYXhEaXN0YW5jZTtcbiAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5taW4obWF4RGlzdGFuY2UsIGdlb21fMS5Qb2ludC5kaXN0YW5jZSh0YXJnZXQsIHZlY3RvclN0YXJ0LnBvaW50KSk7XG4gICAgICAgIHRoaXMubW92ZVNlZ21lbnQocHJvZ3Jlc3MsIGRpc3RhbmNlKTtcbiAgICAgICAgdGhpcy5tb3ZlTGVncyhwcm9ncmVzcywgZGlzdGFuY2UpO1xuICAgIH07XG4gICAgU2VnbWVudC5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZXN0YXJ0U3RlcCgpO1xuICAgICAgICB0aGlzLm1vZGVsLnN0ZXAgPSAodGhpcy5tb2RlbC5zdGVwICsgMSkgJSB0aGlzLm1vZGVsLmxlZ3MubGVuZ3RoO1xuICAgIH07XG4gICAgU2VnbWVudC5wcm90b3R5cGUucmVzdGFydFN0ZXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubW9kZWwudmVjdG9yU3RhcnQgPSB0aGlzLm1vZGVsLnZlY3Rvci5jbG9uZSgpO1xuICAgICAgICB0aGlzLm1vZGVsLmxlZ3MuZm9yRWFjaChmdW5jdGlvbiAoc2lkZSkge1xuICAgICAgICAgICAgc2lkZS5mb3JFYWNoKGZ1bmN0aW9uIChsZWcpIHtcbiAgICAgICAgICAgICAgICBsZWcucmVzdGFydFN0ZXAoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFNlZ21lbnQucHJvdG90eXBlLm1vdmVTZWdtZW50ID0gZnVuY3Rpb24gKHByb2dyZXNzLCBkaXN0YW5jZSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLm1vZGVsLCB0YXJnZXQgPSBfYS50YXJnZXQsIHZlY3RvciA9IF9hLnZlY3RvciwgdmVjdG9yU3RhcnQgPSBfYS52ZWN0b3JTdGFydCwgbWF4RGlzdGFuY2UgPSBfYS5tYXhEaXN0YW5jZSwgbWF4Um90YXRpb24gPSBfYS5tYXhSb3RhdGlvbiwgb25UYXJnZXRSZWFjaGVkID0gX2Eub25UYXJnZXRSZWFjaGVkO1xuICAgICAgICB2YXIgdGFyZ2V0UmFkaWFucyA9IE1hdGguYXRhbjIodGFyZ2V0LnkgLSB2ZWN0b3JTdGFydC55LCB0YXJnZXQueCAtIHZlY3RvclN0YXJ0LngpO1xuICAgICAgICB2YXIgZGVsdGFSYWRpYW5zID0gTWF0aC5tYXgoLW1heFJvdGF0aW9uLCBNYXRoLm1pbihtYXhSb3RhdGlvbiwgZ2VvbV8xLkFuZ2xlLmRlbHRhKHZlY3Rvci5yYWRpYW5zLCB0YXJnZXRSYWRpYW5zKSkpO1xuICAgICAgICB2ZWN0b3IucmFkaWFucyA9IGdlb21fMS5BbmdsZS5ub3JtYWxpemUodmVjdG9yU3RhcnQucmFkaWFucykgKyBkZWx0YVJhZGlhbnMgKiBwcm9ncmVzcztcbiAgICAgICAgdmVjdG9yLnggPSB2ZWN0b3JTdGFydC54ICsgTWF0aC5jb3ModmVjdG9yLnJhZGlhbnMpICogKGRpc3RhbmNlICogcHJvZ3Jlc3MpO1xuICAgICAgICB2ZWN0b3IueSA9IHZlY3RvclN0YXJ0LnkgKyBNYXRoLnNpbih2ZWN0b3IucmFkaWFucykgKiAoZGlzdGFuY2UgKiBwcm9ncmVzcyk7XG4gICAgICAgIGlmIChvblRhcmdldFJlYWNoZWQpIHtcbiAgICAgICAgICAgIGlmIChnZW9tXzEuUG9pbnQuZGlzdGFuY2UodGFyZ2V0LCB2ZWN0b3IucG9pbnQpIDw9IG1heERpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgb25UYXJnZXRSZWFjaGVkKHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNlZ21lbnQucHJvdG90eXBlLm1vdmVMZWdzID0gZnVuY3Rpb24gKHByb2dyZXNzLCBkaXN0YW5jZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSB0aGlzLm1vZGVsLCBsZWdzID0gX2EubGVncywgdmVjdG9yID0gX2EudmVjdG9yLCB2ZWN0b3JTdGFydCA9IF9hLnZlY3RvclN0YXJ0O1xuICAgICAgICBsZWdzLmZvckVhY2goZnVuY3Rpb24gKHNpZGUsIHNpZGVJbmRleCkge1xuICAgICAgICAgICAgc2lkZS5mb3JFYWNoKGZ1bmN0aW9uIChsZWcpIHtcbiAgICAgICAgICAgICAgICBsZWcub2Zmc2V0KHZlY3Rvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChzaWRlSW5kZXggPT09IF90aGlzLm1vZGVsLnN0ZXApIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0VmVjdG9yXzEgPSBuZXcgZ2VvbV8xLlZlY3Rvcih2ZWN0b3JTdGFydC54ICsgTWF0aC5jb3ModmVjdG9yLnJhZGlhbnMpICogZGlzdGFuY2UsIHZlY3RvclN0YXJ0LnkgKyBNYXRoLnNpbih2ZWN0b3IucmFkaWFucykgKiBkaXN0YW5jZSwgdmVjdG9yLnJhZGlhbnMpO1xuICAgICAgICAgICAgICAgIHNpZGUuZm9yRWFjaChmdW5jdGlvbiAobGVnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZy50aWNrKHRhcmdldFZlY3Rvcl8xLCBwcm9ncmVzcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlZ21lbnQucHJvdG90eXBlLCBcInhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGVsLnZlY3Rvci54O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5tb2RlbC52ZWN0b3IueCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VnbWVudC5wcm90b3R5cGUsIFwieVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwudmVjdG9yLnk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGVsLnZlY3Rvci55ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZWdtZW50LnByb3RvdHlwZSwgXCJyYWRpYW5zXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC52ZWN0b3IucmFkaWFucztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMubW9kZWwudmVjdG9yLnJhZGlhbnMgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlZ21lbnQucHJvdG90eXBlLCBcImRhdGFcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgdGhpcy5tb2RlbC52ZWN0b3IuZGF0YSwgeyBsZWdzOiB0aGlzLm1vZGVsLmxlZ3MubWFwKGZ1bmN0aW9uIChzaWRlKSB7IHJldHVybiAoc2lkZS5tYXAoZnVuY3Rpb24gKGxlZykgeyByZXR1cm4gbGVnLmRhdGE7IH0pKTsgfSkgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBTZWdtZW50O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFNlZ21lbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZ2VvbV8xID0gcmVxdWlyZShcIkBhZHJpYW5sYWZvbmQvZ2VvbVwiKTtcbnZhciBMZWcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVnKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tb2RlbCA9IF9fYXNzaWduKHt9LCBvcHRpb25zLCB7IG1hcDogdGhpcy5jbG9uZShvcHRpb25zLmpvaW50cykubWFwKGZ1bmN0aW9uIChwb2ludCkgeyByZXR1cm4gbmV3IGdlb21fMS5WZWN0b3IocG9pbnQueCwgcG9pbnQueSwgTWF0aC5hdGFuMihwb2ludC55LCBwb2ludC54KSk7IH0pLCBqb2ludHNTdGFydDogdGhpcy5jbG9uZShvcHRpb25zLmpvaW50cykgfSk7XG4gICAgfVxuICAgIExlZy5wcm90b3R5cGUub2Zmc2V0ID0gZnVuY3Rpb24gKHZlY3RvciwgaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSB2b2lkIDApIHsgaW5kZXggPSAwOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMubW9kZWwsIGpvaW50cyA9IF9hLmpvaW50cywgbWFwID0gX2EubWFwO1xuICAgICAgICB2YXIgam9pbnQgPSBqb2ludHNbaW5kZXhdO1xuICAgICAgICB2YXIgbWFwSm9pbnQgPSBtYXBbaW5kZXhdO1xuICAgICAgICB2YXIgZGlzdGFuY2UgPSBnZW9tXzEuUG9pbnQuZGlzdGFuY2UobWFwSm9pbnQucG9pbnQsIG5ldyBnZW9tXzEuUG9pbnQoMCwgMCkpO1xuICAgICAgICB2YXIgcmFkaWFucyA9IG1hcEpvaW50LnJhZGlhbnMgKyB2ZWN0b3IucmFkaWFucztcbiAgICAgICAgam9pbnQueCA9IHZlY3Rvci54ICsgTWF0aC5jb3MocmFkaWFucykgKiBkaXN0YW5jZTtcbiAgICAgICAgam9pbnQueSA9IHZlY3Rvci55ICsgTWF0aC5zaW4ocmFkaWFucykgKiBkaXN0YW5jZTtcbiAgICB9O1xuICAgIExlZy5wcm90b3R5cGUub2Zmc2V0QWxsID0gZnVuY3Rpb24gKHZlY3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLm1vZGVsLmpvaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChqb2ludCwgaW5kZXgpIHtcbiAgICAgICAgICAgIF90aGlzLm9mZnNldCh2ZWN0b3IsIGluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWcucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiAodmVjdG9yLCBwcm9ncmVzcykge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLm1vZGVsLCBqb2ludHMgPSBfYS5qb2ludHMsIGpvaW50c1N0YXJ0ID0gX2Euam9pbnRzU3RhcnQsIG1hcCA9IF9hLm1hcDtcbiAgICAgICAgdmFyIGluZGV4ID0gam9pbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgIHZhciByYWRpYW5zID0gTWF0aC5hdGFuMihtYXBbaW5kZXhdLnksIG1hcFtpbmRleF0ueCkgKyB2ZWN0b3IucmFkaWFucztcbiAgICAgICAgdmFyIHJhZGl1cyA9IGdlb21fMS5Qb2ludC5kaXN0YW5jZShtYXBbaW5kZXhdLnBvaW50LCBuZXcgZ2VvbV8xLlBvaW50KCkpO1xuICAgICAgICB2YXIgbGFuZCA9IG5ldyBnZW9tXzEuUG9pbnQodmVjdG9yLnggKyBNYXRoLmNvcyhyYWRpYW5zKSAqIHJhZGl1cywgdmVjdG9yLnkgKyBNYXRoLnNpbihyYWRpYW5zKSAqIHJhZGl1cyk7XG4gICAgICAgIHZhciBsYW5kUmFkaWFucyA9IE1hdGguYXRhbjIobGFuZC55IC0gam9pbnRzU3RhcnRbaW5kZXhdLnksIGxhbmQueCAtIGpvaW50c1N0YXJ0W2luZGV4XS54KTtcbiAgICAgICAgdmFyIGRpc3RhbmNlID0gZ2VvbV8xLlBvaW50LmRpc3RhbmNlKGxhbmQsIGpvaW50c1N0YXJ0W2luZGV4XSk7XG4gICAgICAgIGpvaW50c1tpbmRleF0ueCA9IGpvaW50c1N0YXJ0W2luZGV4XS54ICsgTWF0aC5jb3MobGFuZFJhZGlhbnMpICpcbiAgICAgICAgICAgIChkaXN0YW5jZSAqIHByb2dyZXNzKTtcbiAgICAgICAgam9pbnRzW2luZGV4XS55ID0gam9pbnRzU3RhcnRbaW5kZXhdLnkgKyBNYXRoLnNpbihsYW5kUmFkaWFucykgKlxuICAgICAgICAgICAgKGRpc3RhbmNlICogcHJvZ3Jlc3MpO1xuICAgIH07XG4gICAgTGVnLnByb3RvdHlwZS5yZXN0YXJ0U3RlcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5tb2RlbC5qb2ludHNTdGFydCA9IHRoaXMuY2xvbmUoKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMZWcucHJvdG90eXBlLCBcImRhdGFcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGVsLmpvaW50cy5tYXAoZnVuY3Rpb24gKGpvaW50KSB7IHJldHVybiBqb2ludC5kYXRhOyB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTGVnLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIChqb2ludHMpIHtcbiAgICAgICAgaWYgKGpvaW50cyA9PT0gdm9pZCAwKSB7IGpvaW50cyA9IHRoaXMubW9kZWwuam9pbnRzOyB9XG4gICAgICAgIHJldHVybiBqb2ludHMubWFwKGZ1bmN0aW9uIChqb2ludCkgeyByZXR1cm4gam9pbnQuY2xvbmUoKTsgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gTGVnO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExlZztcbiJdLCJzb3VyY2VSb290IjoiIn0=