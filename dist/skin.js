!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Skin",[],t):"object"==typeof exports?exports.Skin=t():e.Skin=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.Pixi=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.bug=e,this.app=t,this.legs=[],this.createParts(),this.app.stage.addChild(this.container),this.render()}return e.prototype.render=function(e){var t=this;return void 0===e&&(e=1),this.bug.tick(e),this.destroyLegs(),this.segments.forEach(function(e,n){var r=t.bug.segments[n];e.x=r.x,e.y=r.y,e.rotation=r.radians,r.legs.forEach(function(e){e.forEach(function(e){var n=new PIXI.Graphics;n.lineStyle(1,0,1),e.forEach(function(e,t){n[0===t?"moveTo":"lineTo"](e.x,e.y)}),t.legs.push(n),t.container.addChild(n)})})}),this},e.prototype.createParts=function(){this.container=new PIXI.Container,this.createSegments()},e.prototype.createSegments=function(){var e=this;this.segments=this.bug.segments.map(function(){var t=new PIXI.Container;t.pivot=new PIXI.Point(8,8);var n=new PIXI.Graphics;n.lineStyle(1,0,1),n.beginFill(8421504),n.drawCircle(8,8,8),n.endFill();var r=e.app.renderer.generateTexture(n,1,1),i=new PIXI.Sprite(r);return t.addChild(i),t.addChild(e.createFace()),e.container.addChild(t),t})},e.prototype.createFace=function(){var e=new PIXI.Graphics;e.lineStyle(1,0,1),e.moveTo(9,5),e.lineTo(13,5);var t=new PIXI.Graphics;t.lineStyle(1,0,1),t.moveTo(11,7),t.lineTo(11,3);var n=new PIXI.Graphics;n.lineStyle(1,0,1),n.moveTo(9,11),n.lineTo(13,11);var r=new PIXI.Graphics;r.lineStyle(1,0,1),r.moveTo(11,9),r.lineTo(11,13);var i=new PIXI.Container;return i.addChild(e),i.addChild(t),i.addChild(n),i.addChild(r),i},e.prototype.destroyLegs=function(){this.legs.forEach(function(e){e.parent.removeChild(e),e.destroy()}),this.legs=[]},e}();t.default=r}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ta2luL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9Ta2luL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1NraW4vLi9zcmMvc2tpbi9pbmRleC50cyIsIndlYnBhY2s6Ly9Ta2luLy4vc3JjL3NraW4vcGl4aS50cyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ3aW5kb3ciLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicGl4aV8xIiwiUGl4aSIsImRlZmF1bHQiLCJidWciLCJhcHAiLCJ0aGlzIiwibGVncyIsImNyZWF0ZVBhcnRzIiwic3RhZ2UiLCJhZGRDaGlsZCIsImNvbnRhaW5lciIsInJlbmRlciIsImRlbHRhIiwiX3RoaXMiLCJ0aWNrIiwiZGVzdHJveUxlZ3MiLCJzZWdtZW50cyIsImZvckVhY2giLCJzZWdtZW50IiwiaW5kZXgiLCJidWdTZWdtZW50IiwieCIsInkiLCJyb3RhdGlvbiIsInJhZGlhbnMiLCJzaWRlIiwibGVnIiwiZ2Z4IiwiUElYSSIsIkdyYXBoaWNzIiwibGluZVN0eWxlIiwicG9pbnQiLCJwdXNoIiwiQ29udGFpbmVyIiwiY3JlYXRlU2VnbWVudHMiLCJtYXAiLCJwaXZvdCIsIlBvaW50IiwiYmVnaW5GaWxsIiwiZHJhd0NpcmNsZSIsImVuZEZpbGwiLCJ0ZXh0dXJlIiwicmVuZGVyZXIiLCJnZW5lcmF0ZVRleHR1cmUiLCJzcHJpdGUiLCJTcHJpdGUiLCJjcmVhdGVGYWNlIiwibGluZTEiLCJtb3ZlVG8iLCJsaW5lVG8iLCJsaW5lMiIsImxpbmUzIiwibGluZTQiLCJmYWNlIiwicGFyZW50IiwicmVtb3ZlQ2hpbGQiLCJkZXN0cm95Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGlCQUFBQyxTQUFBLGlCQUFBQyxPQUNBQSxPQUFBRCxRQUFBRCxJQUNBLG1CQUFBRyxlQUFBQyxJQUNBRCxPQUFBLFVBQUFILEdBQ0EsaUJBQUFDLFFBQ0FBLFFBQUEsS0FBQUQsSUFFQUQsRUFBQSxLQUFBQyxJQVJBLENBU0NLLE9BQUEsV0FDRCxtQkNUQSxJQUFBQyxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFQLFFBR0EsSUFBQUMsRUFBQUksRUFBQUUsR0FBQSxDQUNBQyxFQUFBRCxFQUNBRSxHQUFBLEVBQ0FULFFBQUEsSUFVQSxPQU5BVSxFQUFBSCxHQUFBSSxLQUFBVixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBTSxHQUdBTCxFQUFBUSxHQUFBLEVBR0FSLEVBQUFELFFBMERBLE9BckRBTSxFQUFBTSxFQUFBRixFQUdBSixFQUFBTyxFQUFBUixFQUdBQyxFQUFBUSxFQUFBLFNBQUFkLEVBQUFlLEVBQUFDLEdBQ0FWLEVBQUFXLEVBQUFqQixFQUFBZSxJQUNBRyxPQUFBQyxlQUFBbkIsRUFBQWUsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1YsRUFBQWdCLEVBQUEsU0FBQXRCLEdBQ0Esb0JBQUF1QixlQUFBQyxhQUNBTixPQUFBQyxlQUFBbkIsRUFBQXVCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFuQixFQUFBLGNBQWlEeUIsT0FBQSxLQVFqRG5CLEVBQUFvQixFQUFBLFNBQUFELEVBQUFF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R0FDQUEsS0FHQVQsRUFBQUwsVUFBQWtELFdBQUEsV0FDQSxJQUVBQyxFQUFBLElBQUFuQixLQUFBQyxTQUNBa0IsRUFBQWpCLFVBQUEsT0FDQWlCLEVBQUFDLE9BQUEzQixFQUFBQyxHQUNBeUIsRUFBQUUsT0FBQTVCLEdBQUFDLEdBQ0EsSUFBQTRCLEVBQUEsSUFBQXRCLEtBQUFDLFNBQ0FxQixFQUFBcEIsVUFBQSxPQUNBb0IsRUFBQUYsT0FBQTNCLEdBQUFDLEdBQ0E0QixFQUFBRCxPQUFBNUIsR0FBQUMsR0FDQSxJQUFBNkIsRUFBQSxJQUFBdkIsS0FBQUMsU0FDQXNCLEVBQUFyQixVQUFBLE9BQ0FxQixFQUFBSCxPQUFBM0IsRUFBQUMsSUFDQTZCLEVBQUFGLE9BQUE1QixHQUFBQyxJQUNBLElBQUE4QixFQUFBLElBQUF4QixLQUFBQyxTQUNBdUIsRUFBQXRCLFVBQUEsT0FDQXNCLEVBQUFKLE9BQUEzQixHQUFBQyxHQUNBOEIsRUFBQUgsT0FBQTVCLEdBQUFDLElBQ0EsSUFBQStCLEVBQUEsSUFBQXpCLEtBQUFLLFVBS0EsT0FKQW9CLEVBQUE1QyxTQUFBc0MsR0FDQU0sRUFBQTVDLFNBQUF5QyxHQUNBRyxFQUFBNUMsU0FBQTBDLEdBQ0FFLEVBQUE1QyxTQUFBMkMsR0FDQUMsR0FFQXBELEVBQUFMLFVBQUFtQixZQUFBLFdBQ0FWLEtBQUFDLEtBQUFXLFFBQUEsU0FBQVMsR0FDQUEsRUFBQTRCLE9BQUFDLFlBQUE3QixHQUNBQSxFQUFBOEIsWUFFQW5ELEtBQUFDLEtBQUEsSUFFQUwsRUF6RkEsR0EyRkF6QyxFQUFBMEMsUUFBQUQiLCJmaWxlIjoic2tpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiU2tpblwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJTa2luXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlNraW5cIl0gPSBmYWN0b3J5KCk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHBpeGlfMSA9IHJlcXVpcmUoXCIuL3BpeGlcIik7XG5leHBvcnRzLlBpeGkgPSBwaXhpXzEuZGVmYXVsdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEJPRFlfUkFESVVTID0gODtcbnZhciBQaXhpID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBpeGkoYnVnLCBhcHApIHtcbiAgICAgICAgdGhpcy5idWcgPSBidWc7XG4gICAgICAgIHRoaXMuYXBwID0gYXBwO1xuICAgICAgICB0aGlzLmxlZ3MgPSBbXTtcbiAgICAgICAgdGhpcy5jcmVhdGVQYXJ0cygpO1xuICAgICAgICB0aGlzLmFwcC5zdGFnZS5hZGRDaGlsZCh0aGlzLmNvbnRhaW5lcik7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuICAgIFBpeGkucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChkZWx0YSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoZGVsdGEgPT09IHZvaWQgMCkgeyBkZWx0YSA9IDE7IH1cbiAgICAgICAgdGhpcy5idWcudGljayhkZWx0YSk7XG4gICAgICAgIHRoaXMuZGVzdHJveUxlZ3MoKTtcbiAgICAgICAgdGhpcy5zZWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChzZWdtZW50LCBpbmRleCkge1xuICAgICAgICAgICAgdmFyIGJ1Z1NlZ21lbnQgPSBfdGhpcy5idWcuc2VnbWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgc2VnbWVudC54ID0gYnVnU2VnbWVudC54O1xuICAgICAgICAgICAgc2VnbWVudC55ID0gYnVnU2VnbWVudC55O1xuICAgICAgICAgICAgc2VnbWVudC5yb3RhdGlvbiA9IGJ1Z1NlZ21lbnQucmFkaWFucztcbiAgICAgICAgICAgIGJ1Z1NlZ21lbnQubGVncy5mb3JFYWNoKGZ1bmN0aW9uIChzaWRlKSB7XG4gICAgICAgICAgICAgICAgc2lkZS5mb3JFYWNoKGZ1bmN0aW9uIChsZWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdmeCA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICAgICAgICAgICAgICAgIGdmeC5saW5lU3R5bGUoMSwgMHgwMDAwMDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICBsZWcuZm9yRWFjaChmdW5jdGlvbiAocG9pbnQsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWV0aG9kID0gaW5kZXggPT09IDAgPyAnbW92ZVRvJyA6ICdsaW5lVG8nO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2Z4W21ldGhvZF0ocG9pbnQueCwgcG9pbnQueSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5sZWdzLnB1c2goZ2Z4KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29udGFpbmVyLmFkZENoaWxkKGdmeCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUGl4aS5wcm90b3R5cGUuY3JlYXRlUGFydHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlU2VnbWVudHMoKTtcbiAgICB9O1xuICAgIFBpeGkucHJvdG90eXBlLmNyZWF0ZVNlZ21lbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnNlZ21lbnRzID0gdGhpcy5idWcuc2VnbWVudHMubWFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5waXZvdCA9IG5ldyBQSVhJLlBvaW50KEJPRFlfUkFESVVTLCBCT0RZX1JBRElVUyk7XG4gICAgICAgICAgICB2YXIgZ2Z4ID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcbiAgICAgICAgICAgIGdmeC5saW5lU3R5bGUoMSwgMHgwMDAwMDAsIDEpO1xuICAgICAgICAgICAgZ2Z4LmJlZ2luRmlsbCgweDgwODA4MCk7XG4gICAgICAgICAgICBnZnguZHJhd0NpcmNsZShCT0RZX1JBRElVUywgQk9EWV9SQURJVVMsIEJPRFlfUkFESVVTKTtcbiAgICAgICAgICAgIGdmeC5lbmRGaWxsKCk7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IF90aGlzLmFwcC5yZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUoZ2Z4LCAxLCAxKTtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQoc3ByaXRlKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZChfdGhpcy5jcmVhdGVGYWNlKCkpO1xuICAgICAgICAgICAgX3RoaXMuY29udGFpbmVyLmFkZENoaWxkKGNvbnRhaW5lcik7XG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFBpeGkucHJvdG90eXBlLmNyZWF0ZUZhY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB4ID0gQk9EWV9SQURJVVM7XG4gICAgICAgIHZhciB5ID0gQk9EWV9SQURJVVM7XG4gICAgICAgIHZhciBsaW5lMSA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICAgIGxpbmUxLmxpbmVTdHlsZSgxLCAweDAwMDAwMCwgMSk7XG4gICAgICAgIGxpbmUxLm1vdmVUbyh4ICsgMSwgeSAtIDMpO1xuICAgICAgICBsaW5lMS5saW5lVG8oeCArIDUsIHkgLSAzKTtcbiAgICAgICAgdmFyIGxpbmUyID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcbiAgICAgICAgbGluZTIubGluZVN0eWxlKDEsIDB4MDAwMDAwLCAxKTtcbiAgICAgICAgbGluZTIubW92ZVRvKHggKyAzLCB5IC0gMSk7XG4gICAgICAgIGxpbmUyLmxpbmVUbyh4ICsgMywgeSAtIDUpO1xuICAgICAgICB2YXIgbGluZTMgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuICAgICAgICBsaW5lMy5saW5lU3R5bGUoMSwgMHgwMDAwMDAsIDEpO1xuICAgICAgICBsaW5lMy5tb3ZlVG8oeCArIDEsIHkgKyAzKTtcbiAgICAgICAgbGluZTMubGluZVRvKHggKyA1LCB5ICsgMyk7XG4gICAgICAgIHZhciBsaW5lNCA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICAgIGxpbmU0LmxpbmVTdHlsZSgxLCAweDAwMDAwMCwgMSk7XG4gICAgICAgIGxpbmU0Lm1vdmVUbyh4ICsgMywgeSArIDEpO1xuICAgICAgICBsaW5lNC5saW5lVG8oeCArIDMsIHkgKyA1KTtcbiAgICAgICAgdmFyIGZhY2UgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAgICAgICAgZmFjZS5hZGRDaGlsZChsaW5lMSk7XG4gICAgICAgIGZhY2UuYWRkQ2hpbGQobGluZTIpO1xuICAgICAgICBmYWNlLmFkZENoaWxkKGxpbmUzKTtcbiAgICAgICAgZmFjZS5hZGRDaGlsZChsaW5lNCk7XG4gICAgICAgIHJldHVybiBmYWNlO1xuICAgIH07XG4gICAgUGl4aS5wcm90b3R5cGUuZGVzdHJveUxlZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubGVncy5mb3JFYWNoKGZ1bmN0aW9uIChsZWcpIHtcbiAgICAgICAgICAgIGxlZy5wYXJlbnQucmVtb3ZlQ2hpbGQobGVnKTtcbiAgICAgICAgICAgIGxlZy5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxlZ3MgPSBbXTtcbiAgICB9O1xuICAgIHJldHVybiBQaXhpO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFBpeGk7XG4iXSwic291cmNlUm9vdCI6IiJ9