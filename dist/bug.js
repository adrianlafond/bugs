!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Bug",[],e):"object"==typeof exports?exports.Bug=e():t.Bug=e()}(window,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){window,t.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return Object.defineProperty(t.prototype,"data",{get:function(){return{x:this.x,y:this.y}},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.toString=function(){return JSON.stringify(this.data)},t.distance=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},t.radians=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2);e.Angle=o.default;var r=n(0);e.Point=r.default;var i=n(3);e.Vector=i.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.toRadians=function(t){return t*Math.PI/180},t.toDegrees=function(t){return 180*t/Math.PI},t.interpolate=function(e,n,o){return t.normalize(e+t.delta(e,n)*o)},t.delta=function(e,n){var o=t.normalize(e),r=t.normalize(n),i=r-o;return Math.abs(i)>Math.PI&&(i=r-2*Math.PI-o),i},t.normalize=function(t){var e=t%(2*Math.PI);return e<0&&(e+=2*Math.PI),e},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=function(){function t(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.model={},t instanceof o.default?(this.model.point=t.clone(),this.model.radians=e):(this.model.point=new o.default(t,e),this.model.radians=n)}return Object.defineProperty(t.prototype,"point",{get:function(){return this.model.point.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.model.point.x},set:function(t){this.model.point.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.model.point.y},set:function(t){this.model.point.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radians",{get:function(){return this.model.radians},set:function(t){this.model.radians=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return{x:this.x,y:this.y,radians:this.radians}},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.point,this.radians)},t.prototype.toString=function(){return JSON.stringify(this.data)},t}();e.default=r}])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2);e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=n(3),i=function(){function t(t){void 0===t&&(t={});var e=t.x,n=void 0===e?0:e,i=t.y,a=void 0===i?0:i,s=t.radians,u=void 0===s?0:s,c=t.target||{},f=c.x,d=void 0===f?0:f,l=c.y,p=void 0===l?0:l;this.model={segments:[new r.default({vector:new o.Vector(n,a,u),onTargetReached:this.onTargetReached.bind(this)})],target:new o.Point(d,p),progress:0,onTargetReached:t.onTargetReached||function(){}},this.target=this.model.target}return t.prototype.tick=function(t){var e=this;void 0===t&&(t=1),this.model.progress=Math.min(1,this.model.progress+.1);var n=this.model.progress>=1;return this.model.segments.forEach(function(t){t.tick(e.model.progress),n&&t.step()}),n&&(this.model.progress=0),this},Object.defineProperty(t.prototype,"target",{get:function(){return this.model.target.data},set:function(t){this.model.target.x=t.x,this.model.target.y=t.y,this.model.segments[0].target=this.model.target},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.model.segments[0].x},set:function(t){this.model.segments[0].x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.model.segments[0].y},set:function(t){this.model.segments[0].y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radians",{get:function(){return this.model.segments[0].radians},set:function(t){this.model.segments[0].radians=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"segments",{get:function(){return this.model.segments.map(function(t){return t.data})},enumerable:!0,configurable:!0}),t.prototype.onTargetReached=function(t){this.model.onTargetReached(t)},t}();e.default=i},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(4),a=function(){function t(t){var e=this;this.model={vector:new r.Vector,legs:[[new i.default({joints:[new r.Point(2,-5),new r.Point(12,-14)]}),new i.default({joints:[new r.Point(0,-5),new r.Point(0,-16)]}),new i.default({joints:[new r.Point(-4,-5),new r.Point(-8,-12)]})],[new i.default({joints:[new r.Point(2,5),new r.Point(12,14)]}),new i.default({joints:[new r.Point(0,5),new r.Point(0,16)]}),new i.default({joints:[new r.Point(-4,5),new r.Point(-8,12)]})]],maxRotation:.5*Math.PI,maxDistance:10,target:new r.Point,vectorStart:new r.Vector,step:0,onTargetReached:null},this.model=o({},this.model,t),this.model.vectorStart=this.model.vector.clone(),this.model.legs.forEach(function(t){t.forEach(function(t){t.offsetAll(e.model.vector)})}),this.step()}return Object.defineProperty(t.prototype,"target",{get:function(){return this.model.target.clone()},set:function(t){this.model.target=t},enumerable:!0,configurable:!0}),t.prototype.tick=function(t){void 0===t&&(t=0);var e=this.model,n=e.target,o=e.vectorStart,i=e.maxDistance,a=Math.min(i,r.Point.distance(n,o.point));this.moveSegment(t,a),this.moveLegs(t,a)},t.prototype.step=function(){this.restartStep(),this.model.step=(this.model.step+1)%this.model.legs.length},t.prototype.restartStep=function(){this.model.vectorStart=this.model.vector.clone(),this.model.legs.forEach(function(t){t.forEach(function(t){t.restartStep()})})},t.prototype.moveSegment=function(t,e){var n=this.model,o=n.target,i=n.vector,a=n.vectorStart,s=n.maxDistance,u=n.maxRotation,c=n.onTargetReached,f=Math.atan2(o.y-a.y,o.x-a.x),d=Math.max(-u,Math.min(u,r.Angle.delta(i.radians,f)));i.radians=r.Angle.normalize(a.radians)+d*t,i.x=a.x+Math.cos(i.radians)*(e*t),i.y=a.y+Math.sin(i.radians)*(e*t),c&&r.Point.distance(o,i.point)<=s&&c(o)},t.prototype.moveLegs=function(t,e){var n=this,o=this.model,i=o.legs,a=o.vector,s=o.vectorStart;i.forEach(function(o,i){if(o.forEach(function(t){t.offset(a)}),i===n.model.step){var u=new r.Vector(s.x+Math.cos(a.radians)*e,s.y+Math.sin(a.radians)*e,a.radians);o.forEach(function(e){e.tick(u,t)})}})},Object.defineProperty(t.prototype,"x",{get:function(){return this.model.vector.x},set:function(t){this.model.vector.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.model.vector.y},set:function(t){this.model.vector.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radians",{get:function(){return this.model.vector.radians},set:function(t){this.model.vector.radians=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return o({},this.model.vector.data,{legs:this.model.legs.map(function(t){return t.map(function(t){return t.data})})})},enumerable:!0,configurable:!0}),t}();e.default=a},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=function(){function t(t){this.model=o({},t,{map:this.clone(t.joints).map(function(t){return new r.Vector(t.x,t.y,Math.atan2(t.y,t.x))}),jointsStart:this.clone(t.joints)})}return t.prototype.offset=function(t,e){void 0===e&&(e=0);var n=this.model,o=n.joints,i=n.map,a=o[e],s=i[e],u=r.Point.distance(s.point,new r.Point(0,0)),c=s.radians+t.radians;a.x=t.x+Math.cos(c)*u,a.y=t.y+Math.sin(c)*u},t.prototype.offsetAll=function(t){var e=this;this.model.joints.forEach(function(n,o){e.offset(t,o)})},t.prototype.tick=function(t,e){var n=this.model,o=n.joints,i=n.jointsStart,a=n.map,s=o.length-1,u=Math.atan2(a[s].y,a[s].x)+t.radians,c=r.Point.distance(a[s].point,new r.Point),f=new r.Point(t.x+Math.cos(u)*c,t.y+Math.sin(u)*c),d=Math.atan2(f.y-i[s].y,f.x-i[s].x),l=r.Point.distance(f,i[s]);o[s].x=i[s].x+Math.cos(d)*(l*e),o[s].y=i[s].y+Math.sin(d)*(l*e)},t.prototype.restartStep=function(){this.model.jointsStart=this.clone()},Object.defineProperty(t.prototype,"data",{get:function(){return this.model.joints.map(function(t){return t.data})},enumerable:!0,configurable:!0}),t.prototype.clone=function(t){return void 0===t&&(t=this.model.joints),t.map(function(t){return t.clone()})},t}();e.default=i}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9CdWcvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL0J1Zy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9CdWcvLi9ub2RlX21vZHVsZXMvQGFkcmlhbmxhZm9uZC9nZW9tL2Rpc3QvZ2VvbS5qcyIsIndlYnBhY2s6Ly9CdWcvLi9zcmMvYnVnL2luZGV4LnRzIiwid2VicGFjazovL0J1Zy8uL3NyYy9idWcvYnVnLnRzIiwid2VicGFjazovL0J1Zy8uL3NyYy9idWcvc2VnbWVudC50cyIsIndlYnBhY2s6Ly9CdWcvLi9zcmMvYnVnL2xlZy50cyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ3aW5kb3ciLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZSIsImRlZmF1bHQiLCJ0aGlzIiwieCIsInkiLCJjb25maWd1cmFibGUiLCJjbG9uZSIsImFkZCIsInN1YnRyYWN0IiwidG9TdHJpbmciLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsImRpc3RhbmNlIiwiTWF0aCIsInNxcnQiLCJyYWRpYW5zIiwiYXRhbjIiLCJBbmdsZSIsIlBvaW50IiwiVmVjdG9yIiwidG9SYWRpYW5zIiwiUEkiLCJ0b0RlZ3JlZXMiLCJpbnRlcnBvbGF0ZSIsIm5vcm1hbGl6ZSIsImRlbHRhIiwiYWJzIiwibW9kZWwiLCJwb2ludCIsInNldCIsImJ1Z18xIiwiZ2VvbV8xIiwic2VnbWVudF8xIiwiQnVnIiwib3B0aW9ucyIsIl9hIiwiX2IiLCJfYyIsIl9kIiwidGFyZ2V0IiwiX2UiLCJ0YXJnZXRYIiwiX2YiLCJ0YXJnZXRZIiwic2VnbWVudHMiLCJ2ZWN0b3IiLCJvblRhcmdldFJlYWNoZWQiLCJwcm9ncmVzcyIsInRpY2siLCJfdGhpcyIsIm1pbiIsImlzU3RlcENvbXBsZXRlIiwiZm9yRWFjaCIsInNlZ21lbnQiLCJzdGVwIiwibWFwIiwiX19hc3NpZ24iLCJhc3NpZ24iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcHBseSIsImxlZ18xIiwiU2VnbWVudCIsImxlZ3MiLCJqb2ludHMiLCJtYXhSb3RhdGlvbiIsIm1heERpc3RhbmNlIiwidmVjdG9yU3RhcnQiLCJzaWRlIiwibGVnIiwib2Zmc2V0QWxsIiwibW92ZVNlZ21lbnQiLCJtb3ZlTGVncyIsInJlc3RhcnRTdGVwIiwidGFyZ2V0UmFkaWFucyIsImRlbHRhUmFkaWFucyIsIm1heCIsImNvcyIsInNpbiIsInNpZGVJbmRleCIsIm9mZnNldCIsInRhcmdldFZlY3Rvcl8xIiwiTGVnIiwiam9pbnRzU3RhcnQiLCJpbmRleCIsImpvaW50IiwibWFwSm9pbnQiLCJyYWRpdXMiLCJsYW5kIiwibGFuZFJhZGlhbnMiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEdBQ0EsaUJBQUFDLFNBQUEsaUJBQUFDLE9BQ0FBLE9BQUFELFFBQUFELElBQ0EsbUJBQUFHLGVBQUFDLElBQ0FELE9BQUEsU0FBQUgsR0FDQSxpQkFBQUMsUUFDQUEsUUFBQSxJQUFBRCxJQUVBRCxFQUFBLElBQUFDLElBUkEsQ0FTQ0ssT0FBQSxXQUNELG1CQ1RBLElBQUFDLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQVAsUUFHQSxJQUFBQyxFQUFBSSxFQUFBRSxHQUFBLENBQ0FDLEVBQUFELEVBQ0FFLEdBQUEsRUFDQVQsUUFBQSxJQVVBLE9BTkFVLEVBQUFILEdBQUFJLEtBQUFWLEVBQUFELFFBQUFDLElBQUFELFFBQUFNLEdBR0FMLEVBQUFRLEdBQUEsRUFHQVIsRUFBQUQsUUEwREEsT0FyREFNLEVBQUFNLEVBQUFGLEVBR0FKLEVBQUFPLEVBQUFSLEVBR0FDLEVBQUFRLEVBQUEsU0FBQWQsRUFBQWUsRUFBQUMsR0FDQVYsRUFBQVcsRUFBQWpCLEVBQUFlLElBQ0FHLE9BQUFDLGVBQUFuQixFQUFBZSxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDVixFQUFBZ0IsRUFBQSxTQUFBdEIsR0FDQSxvQkFBQXVCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFuQixFQUFBdUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQW5CLEVBQUEsY0FBaUR5QixPQUFBLEtBUWpEbkIsRUFBQW9CLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFuQixFQUFBbUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBeEIsRUFBQWdCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEsV0FBeUNULFlBQUEsRUFBQUssVUFDekMsRUFBQUUsR0FBQSxpQkFBQUYsRUFBQSxRQUFBTSxLQUFBTixFQUFBbkIsRUFBQVEsRUFBQWUsRUFBQUUsRUFBQSxTQUFBQSxHQUFnSCxPQUFBTixFQUFBTSxJQUFxQkMsS0FBQSxLQUFBRCxJQUNySSxPQUFBRixHQUlBdkIsRUFBQTJCLEVBQUEsU0FBQWhDLEdBQ0EsSUFBQWUsRUFBQWYsS0FBQTJCLFdBQ0EsV0FBMkIsT0FBQTNCLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUssRUFBQVEsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBVixFQUFBVyxFQUFBLFNBQUFpQixFQUFBQyxHQUFzRCxPQUFBakIsT0FBQWtCLFVBQUFDLGVBQUExQixLQUFBdUIsRUFBQUMsSUFHdEQ3QixFQUFBZ0MsRUFBQSxHQUlBaEMsSUFBQWlDLEVBQUEscUJDbEZtTW5DLE9BQW5JSCxFQUFBRCxRQUFzSixTQUFBMEIsR0FBbUIsSUFBQWMsRUFBQSxHQUFTLFNBQUFQLEVBQUFYLEdBQWMsR0FBQWtCLEVBQUFsQixHQUFBLE9BQUFrQixFQUFBbEIsR0FBQXRCLFFBQTRCLElBQUFpQixFQUFBdUIsRUFBQWxCLEdBQUEsQ0FBWWQsRUFBQWMsRUFBQWIsR0FBQSxFQUFBVCxRQUFBLElBQXFCLE9BQUEwQixFQUFBSixHQUFBWCxLQUFBTSxFQUFBakIsUUFBQWlCLElBQUFqQixRQUFBaUMsR0FBQWhCLEVBQUFSLEdBQUEsRUFBQVEsRUFBQWpCLFFBQTJELE9BQUFpQyxFQUFBckIsRUFBQWMsRUFBQU8sRUFBQXBCLEVBQUEyQixFQUFBUCxFQUFBbkIsRUFBQSxTQUFBWSxFQUFBYyxFQUFBbEIsR0FBdUNXLEVBQUFoQixFQUFBUyxFQUFBYyxJQUFBdEIsT0FBQUMsZUFBQU8sRUFBQWMsRUFBQSxDQUFxQ3BCLFlBQUEsRUFBQUMsSUFBQUMsS0FBc0JXLEVBQUFYLEVBQUEsU0FBQUksR0FBaUIsb0JBQUFILGVBQUFDLGFBQUFOLE9BQUFDLGVBQUFPLEVBQUFILE9BQUFDLFlBQUEsQ0FBNEZDLE1BQUEsV0FBZVAsT0FBQUMsZUFBQU8sRUFBQSxjQUF3Q0QsT0FBQSxLQUFXUSxFQUFBUCxFQUFBLFNBQUFBLEVBQUFjLEdBQW1CLEtBQUFBLElBQUFkLEVBQUFPLEVBQUFQLElBQUEsRUFBQWMsRUFBQSxPQUFBZCxFQUE4QixLQUFBYyxHQUFBLGlCQUFBZCxRQUFBRSxXQUFBLE9BQUFGLEVBQXFELElBQUFKLEVBQUFKLE9BQUFZLE9BQUEsTUFBMEIsR0FBQUcsRUFBQVgsS0FBQUosT0FBQUMsZUFBQUcsRUFBQSxXQUE2Q0YsWUFBQSxFQUFBSyxNQUFBQyxJQUFzQixFQUFBYyxHQUFBLGlCQUFBZCxFQUFBLFFBQUFULEtBQUFTLEVBQUFPLEVBQUFuQixFQUFBUSxFQUFBTCxFQUFBLFNBQUF1QixHQUE2RCxPQUFBZCxFQUFBYyxJQUFZUixLQUFBLEtBQUFmLElBQWUsT0FBQUssR0FBU1csSUFBQSxTQUFBUCxHQUFpQixJQUFBYyxFQUFBZCxLQUFBRSxXQUFBLFdBQWlDLE9BQUFGLEVBQUFlLFNBQWlCLFdBQVksT0FBQWYsR0FBVSxPQUFBTyxFQUFBbkIsRUFBQTBCLEVBQUEsSUFBQUEsTUFBc0JQLEVBQUFoQixFQUFBLFNBQUFTLEVBQUFjLEdBQW1CLE9BQUF0QixPQUFBa0IsVUFBQUMsZUFBQTFCLEtBQUFlLEVBQUFjLElBQWlEUCxFQUFBSyxFQUFBLEdBQUFMLElBQUFNLEVBQUEsR0FBMTRCLENBQTI1QixVQUFBYixFQUFBYyxFQUFBUCxHQUFrQixhQUFhZixPQUFBQyxlQUFBcUIsRUFBQSxjQUFzQ2YsT0FBQSxJQUFXLElBQUFILEVBQUEsV0FBaUIsU0FBQUksSUFBQWMsUUFBZ0IsSUFBQWQsTUFBQSxZQUFBYyxNQUFBLEdBQUFFLEtBQUFDLEVBQUFqQixFQUFBZ0IsS0FBQUUsRUFBQUosRUFBc0QsT0FBQXRCLE9BQUFDLGVBQUFPLEVBQUFVLFVBQUEsUUFBaURmLElBQUEsV0FBZSxPQUFPc0IsRUFBQUQsS0FBQUMsRUFBQUMsRUFBQUYsS0FBQUUsSUFBbUJ4QixZQUFBLEVBQUF5QixjQUFBLElBQStCbkIsRUFBQVUsVUFBQVUsTUFBQSxXQUErQixXQUFBcEIsRUFBQWdCLEtBQUFDLEVBQUFELEtBQUFFLElBQTRCbEIsRUFBQVUsVUFBQVcsSUFBQSxTQUFBckIsR0FBNkIsT0FBQWdCLEtBQUFDLEdBQUFqQixFQUFBaUIsRUFBQUQsS0FBQUUsR0FBQWxCLEVBQUFrQixFQUFBRixNQUFvQ2hCLEVBQUFVLFVBQUFZLFNBQUEsU0FBQXRCLEdBQWtDLE9BQUFnQixLQUFBQyxHQUFBakIsRUFBQWlCLEVBQUFELEtBQUFFLEdBQUFsQixFQUFBa0IsRUFBQUYsTUFBb0NoQixFQUFBVSxVQUFBYSxTQUFBLFdBQWlDLE9BQUFDLEtBQUFDLFVBQUFULEtBQUFVLE9BQWlDMUIsRUFBQTJCLFNBQUEsU0FBQTNCLEVBQUFjLEdBQTBCLE9BQUFjLEtBQUFDLE1BQUE3QixFQUFBaUIsRUFBQUgsRUFBQUcsSUFBQWpCLEVBQUFpQixFQUFBSCxFQUFBRyxJQUFBakIsRUFBQWtCLEVBQUFKLEVBQUFJLElBQUFsQixFQUFBa0IsRUFBQUosRUFBQUksS0FBMERsQixFQUFBOEIsUUFBQSxTQUFBOUIsRUFBQWMsR0FBeUIsT0FBQWMsS0FBQUcsTUFBQWpCLEVBQUFJLEVBQUFsQixFQUFBa0IsRUFBQUosRUFBQUcsRUFBQWpCLEVBQUFpQixJQUFtQ2pCLEVBQXBtQixHQUEwbUJjLEVBQUFDLFFBQUFuQixHQUFZLFNBQUFJLEVBQUFjLEVBQUFQLEdBQWlCLGFBQWFmLE9BQUFDLGVBQUFxQixFQUFBLGNBQXNDZixPQUFBLElBQVcsSUFBQUgsRUFBQVcsRUFBQSxHQUFXTyxFQUFBa0IsTUFBQXBDLEVBQUFtQixRQUFrQixJQUFBeEIsRUFBQWdCLEVBQUEsR0FBV08sRUFBQW1CLE1BQUExQyxFQUFBd0IsUUFBa0IsSUFBQWpDLEVBQUF5QixFQUFBLEdBQVdPLEVBQUFvQixPQUFBcEQsRUFBQWlDLFNBQW1CLFNBQUFmLEVBQUFjLEVBQUFQLEdBQWlCLGFBQWFmLE9BQUFDLGVBQUFxQixFQUFBLGNBQXNDZixPQUFBLElBQVcsSUFBQUgsRUFBQSxXQUFpQixTQUFBSSxLQUFjLE9BQUFBLEVBQUFtQyxVQUFBLFNBQUFuQyxHQUErQixPQUFBQSxFQUFBNEIsS0FBQVEsR0FBQSxLQUFxQnBDLEVBQUFxQyxVQUFBLFNBQUFyQyxHQUF5QixXQUFBQSxFQUFBNEIsS0FBQVEsSUFBcUJwQyxFQUFBc0MsWUFBQSxTQUFBeEIsRUFBQVAsRUFBQVgsR0FBK0IsT0FBQUksRUFBQXVDLFVBQUF6QixFQUFBZCxFQUFBd0MsTUFBQTFCLEVBQUFQLEdBQUFYLElBQXFDSSxFQUFBd0MsTUFBQSxTQUFBMUIsRUFBQVAsR0FBdUIsSUFBQVgsRUFBQUksRUFBQXVDLFVBQUF6QixHQUFBdkIsRUFBQVMsRUFBQXVDLFVBQUFoQyxHQUFBekIsRUFBQVMsRUFBQUssRUFBNEMsT0FBQWdDLEtBQUFhLElBQUEzRCxHQUFBOEMsS0FBQVEsS0FBQXRELEVBQUFTLEVBQUEsRUFBQXFDLEtBQUFRLEdBQUF4QyxHQUFBZCxHQUFnRGtCLEVBQUF1QyxVQUFBLFNBQUF2QyxHQUF5QixJQUFBYyxFQUFBZCxHQUFBLEVBQUE0QixLQUFBUSxJQUFvQixPQUFBdEIsRUFBQSxJQUFBQSxHQUFBLEVBQUFjLEtBQUFRLElBQUF0QixHQUE2QmQsRUFBbFksR0FBd1ljLEVBQUFDLFFBQUFuQixHQUFZLFNBQUFJLEVBQUFjLEVBQUFQLEdBQWlCLGFBQWFmLE9BQUFDLGVBQUFxQixFQUFBLGNBQXNDZixPQUFBLElBQVcsSUFBQUgsRUFBQVcsRUFBQSxHQUFBaEIsRUFBQSxXQUF3QixTQUFBUyxJQUFBYyxFQUFBUCxRQUFrQixJQUFBUCxNQUFBLFlBQUFjLE1BQUEsWUFBQVAsTUFBQSxHQUFBUyxLQUFBMEIsTUFBQSxHQUFtRTFDLGFBQUFKLEVBQUFtQixTQUFBQyxLQUFBMEIsTUFBQUMsTUFBQTNDLEVBQUFvQixRQUFBSixLQUFBMEIsTUFBQVosUUFBQWhCLElBQUFFLEtBQUEwQixNQUFBQyxNQUFBLElBQUEvQyxFQUFBbUIsUUFBQWYsRUFBQWMsR0FBQUUsS0FBQTBCLE1BQUFaLFFBQUF2QixHQUFxSSxPQUFBZixPQUFBQyxlQUFBTyxFQUFBVSxVQUFBLFNBQWtEZixJQUFBLFdBQWUsT0FBQXFCLEtBQUEwQixNQUFBQyxNQUFBdkIsU0FBZ0MxQixZQUFBLEVBQUF5QixjQUFBLElBQStCM0IsT0FBQUMsZUFBQU8sRUFBQVUsVUFBQSxLQUF5Q2YsSUFBQSxXQUFlLE9BQUFxQixLQUFBMEIsTUFBQUMsTUFBQTFCLEdBQTBCMkIsSUFBQSxTQUFBNUMsR0FBaUJnQixLQUFBMEIsTUFBQUMsTUFBQTFCLEVBQUFqQixHQUFxQk4sWUFBQSxFQUFBeUIsY0FBQSxJQUErQjNCLE9BQUFDLGVBQUFPLEVBQUFVLFVBQUEsS0FBeUNmLElBQUEsV0FBZSxPQUFBcUIsS0FBQTBCLE1BQUFDLE1BQUF6QixHQUEwQjBCLElBQUEsU0FBQTVDLEdBQWlCZ0IsS0FBQTBCLE1BQUFDLE1BQUF6QixFQUFBbEIsR0FBcUJOLFlBQUEsRUFBQXlCLGNBQUEsSUFBK0IzQixPQUFBQyxlQUFBTyxFQUFBVSxVQUFBLFdBQStDZixJQUFBLFdBQWUsT0FBQXFCLEtBQUEwQixNQUFBWixTQUEwQmMsSUFBQSxTQUFBNUMsR0FBaUJnQixLQUFBMEIsTUFBQVosUUFBQTlCLEdBQXFCTixZQUFBLEVBQUF5QixjQUFBLElBQStCM0IsT0FBQUMsZUFBQU8sRUFBQVUsVUFBQSxRQUE0Q2YsSUFBQSxXQUFlLE9BQU9zQixFQUFBRCxLQUFBQyxFQUFBQyxFQUFBRixLQUFBRSxFQUFBWSxRQUFBZCxLQUFBYyxVQUF3Q3BDLFlBQUEsRUFBQXlCLGNBQUEsSUFBK0JuQixFQUFBVSxVQUFBVSxNQUFBLFdBQStCLFdBQUFwQixFQUFBZ0IsS0FBQTJCLE1BQUEzQixLQUFBYyxVQUFzQzlCLEVBQUFVLFVBQUFhLFNBQUEsV0FBaUMsT0FBQUMsS0FBQUMsVUFBQVQsS0FBQVUsT0FBaUMxQixFQUE3a0MsR0FBbWxDYyxFQUFBQyxRQUFBeEIsbUNDQ25tSEMsT0FBQUMsZUFBQW5CLEVBQUEsY0FBOEN5QixPQUFBLElBQzlDLElBQUE4QyxFQUFZakUsRUFBUSxHQUNwQk4sRUFBQXlDLFFBQUE4QixFQUFBOUIsc0NDRkF2QixPQUFBQyxlQUFBbkIsRUFBQSxjQUE4Q3lCLE9BQUEsSUFDOUMsSUFBQStDLEVBQWFsRSxFQUFRLEdBQ3JCbUUsRUFBZ0JuRSxFQUFRLEdBQ3hCb0UsRUFBQSxXQUNBLFNBQUFBLEVBQUFDLFFBQ0EsSUFBQUEsSUFBaUNBLEVBQUEsSUFDakMsSUFBQUMsRUFBQUQsRUFBQWhDLFNBQUEsSUFBQWlDLEVBQUEsRUFBQUEsRUFBQUMsRUFBQUYsRUFBQS9CLFNBQUEsSUFBQWlDLEVBQUEsRUFBQUEsRUFBQUMsRUFBQUgsRUFBQW5CLGVBQUEsSUFBQXNCLEVBQUEsRUFBQUEsRUFDQUMsRUFBQUosRUFBQUssUUFBQSxHQUFxQ0MsRUFBQUYsRUFBQXBDLEVBQUF1QyxPQUFBLElBQUFELEVBQUEsRUFBQUEsRUFBQUUsRUFBQUosRUFBQW5DLEVBQUF3QyxPQUFBLElBQUFELEVBQUEsRUFBQUEsRUFDckN6QyxLQUFBMEIsTUFBQSxDQUNBaUIsU0FBQSxLQUFBWixFQUFBaEMsUUFBQSxDQUNBNkMsT0FBQSxJQUFBZCxFQUFBWixPQUFBakIsRUFBQUMsRUFBQVksR0FDQStCLGdCQUFBN0MsS0FBQTZDLGdCQUFBdkQsS0FBQVUsU0FFQXNDLE9BQUEsSUFBQVIsRUFBQWIsTUFBQXVCLEVBQUFFLEdBQ0FJLFNBQUEsRUFDQUQsZ0JBQUFaLEVBQUFZLGlCQUFBLGNBRUE3QyxLQUFBc0MsT0FBQXRDLEtBQUEwQixNQUFBWSxPQXdFQSxPQXRFQU4sRUFBQXRDLFVBQUFxRCxLQUFBLFNBQUF2QixHQUNBLElBQUF3QixFQUFBaEQsVUFDQSxJQUFBd0IsSUFBK0JBLEVBQUEsR0FHL0J4QixLQUFBMEIsTUFBQW9CLFNBQUFsQyxLQUFBcUMsSUFBQSxFQUFBakQsS0FBQTBCLE1BQUFvQixTQUFBLElBQ0EsSUFBQUksRUFBQWxELEtBQUEwQixNQUFBb0IsVUFBQSxFQVVBLE9BVEE5QyxLQUFBMEIsTUFBQWlCLFNBQUFRLFFBQUEsU0FBQUMsR0FDQUEsRUFBQUwsS0FBQUMsRUFBQXRCLE1BQUFvQixVQUNBSSxHQUNBRSxFQUFBQyxTQUdBSCxJQUNBbEQsS0FBQTBCLE1BQUFvQixTQUFBLEdBRUE5QyxNQUVBeEIsT0FBQUMsZUFBQXVELEVBQUF0QyxVQUFBLFVBQ0FmLElBQUEsV0FDQSxPQUFBcUIsS0FBQTBCLE1BQUFZLE9BQUE1QixNQUVBa0IsSUFBQSxTQUFBN0MsR0FDQWlCLEtBQUEwQixNQUFBWSxPQUFBckMsRUFBQWxCLEVBQUFrQixFQUNBRCxLQUFBMEIsTUFBQVksT0FBQXBDLEVBQUFuQixFQUFBbUIsRUFDQUYsS0FBQTBCLE1BQUFpQixTQUFBLEdBQUFMLE9BQUF0QyxLQUFBMEIsTUFBQVksUUFFQTVELFlBQUEsRUFDQXlCLGNBQUEsSUFFQTNCLE9BQUFDLGVBQUF1RCxFQUFBdEMsVUFBQSxLQUNBZixJQUFBLFdBQ0EsT0FBQXFCLEtBQUEwQixNQUFBaUIsU0FBQSxHQUFBMUMsR0FFQTJCLElBQUEsU0FBQTdDLEdBQ0FpQixLQUFBMEIsTUFBQWlCLFNBQUEsR0FBQTFDLEVBQUFsQixHQUVBTCxZQUFBLEVBQ0F5QixjQUFBLElBRUEzQixPQUFBQyxlQUFBdUQsRUFBQXRDLFVBQUEsS0FDQWYsSUFBQSxXQUNBLE9BQUFxQixLQUFBMEIsTUFBQWlCLFNBQUEsR0FBQXpDLEdBRUEwQixJQUFBLFNBQUE3QyxHQUNBaUIsS0FBQTBCLE1BQUFpQixTQUFBLEdBQUF6QyxFQUFBbkIsR0FFQUwsWUFBQSxFQUNBeUIsY0FBQSxJQUVBM0IsT0FBQUMsZUFBQXVELEVBQUF0QyxVQUFBLFdBQ0FmLElBQUEsV0FDQSxPQUFBcUIsS0FBQTBCLE1BQUFpQixTQUFBLEdBQUE3QixTQUVBYyxJQUFBLFNBQUE3QyxHQUNBaUIsS0FBQTBCLE1BQUFpQixTQUFBLEdBQUE3QixRQUFBL0IsR0FFQUwsWUFBQSxFQUNBeUIsY0FBQSxJQUVBM0IsT0FBQUMsZUFBQXVELEVBQUF0QyxVQUFBLFlBQ0FmLElBQUEsV0FDQSxPQUFBcUIsS0FBQTBCLE1BQUFpQixTQUFBVyxJQUFBLFNBQUFGLEdBQStELE9BQUFBLEVBQUExQyxRQUUvRGhDLFlBQUEsRUFDQXlCLGNBQUEsSUFFQTZCLEVBQUF0QyxVQUFBbUQsZ0JBQUEsU0FBQVAsR0FDQXRDLEtBQUEwQixNQUFBbUIsZ0JBQUFQLElBRUFOLEVBdEZBLEdBd0ZBMUUsRUFBQXlDLFFBQUFpQyxnQ0MzRkEsSUFBQXVCLEVBQUF2RCxXQUFBdUQsVUFBQSxXQVNBLE9BUkFBLEVBQUEvRSxPQUFBZ0YsUUFBQSxTQUFBeEUsR0FDQSxRQUFBYSxFQUFBL0IsRUFBQSxFQUFBeUIsRUFBQWtFLFVBQUFDLE9BQWdENUYsRUFBQXlCLEVBQU96QixJQUV2RCxRQUFBOEIsS0FEQUMsRUFBQTRELFVBQUEzRixHQUNBVSxPQUFBa0IsVUFBQUMsZUFBQTFCLEtBQUE0QixFQUFBRCxLQUNBWixFQUFBWSxHQUFBQyxFQUFBRCxJQUVBLE9BQUFaLElBRUEyRSxNQUFBM0QsS0FBQXlELFlBRUFqRixPQUFBQyxlQUFBbkIsRUFBQSxjQUE4Q3lCLE9BQUEsSUFDOUMsSUFBQStDLEVBQWFsRSxFQUFRLEdBQ3JCZ0csRUFBWWhHLEVBQVEsR0FDcEJpRyxFQUFBLFdBQ0EsU0FBQUEsRUFBQTVCLEdBQ0EsSUFBQWUsRUFBQWhELEtBQ0FBLEtBQUEwQixNQUFBLENBQ0FrQixPQUFBLElBQUFkLEVBQUFaLE9BQ0E0QyxLQUFBLENBQ0EsS0FBQUYsRUFBQTdELFFBQUEsQ0FBb0NnRSxPQUFBLEtBQUFqQyxFQUFBYixNQUFBLFVBQUFhLEVBQUFiLE1BQUEsV0FDcEMsSUFBQTJDLEVBQUE3RCxRQUFBLENBQXVDZ0UsT0FBQSxLQUFBakMsRUFBQWIsTUFBQSxVQUFBYSxFQUFBYixNQUFBLFVBQ3ZDLElBQUEyQyxFQUFBN0QsUUFBQSxDQUF1Q2dFLE9BQUEsS0FBQWpDLEVBQUFiLE9BQUEsVUFBQWEsRUFBQWIsT0FBQSxXQUN2QyxLQUFBMkMsRUFBQTdELFFBQUEsQ0FBb0NnRSxPQUFBLEtBQUFqQyxFQUFBYixNQUFBLFNBQUFhLEVBQUFiLE1BQUEsVUFDcEMsSUFBQTJDLEVBQUE3RCxRQUFBLENBQXVDZ0UsT0FBQSxLQUFBakMsRUFBQWIsTUFBQSxTQUFBYSxFQUFBYixNQUFBLFNBQ3ZDLElBQUEyQyxFQUFBN0QsUUFBQSxDQUF1Q2dFLE9BQUEsS0FBQWpDLEVBQUFiLE9BQUEsU0FBQWEsRUFBQWIsT0FBQSxXQUV2QytDLFlBQUEsR0FBQXBELEtBQUFRLEdBQ0E2QyxZQUFBLEdBQ0EzQixPQUFBLElBQUFSLEVBQUFiLE1BQ0FpRCxZQUFBLElBQUFwQyxFQUFBWixPQUNBbUMsS0FBQSxFQUNBUixnQkFBQSxNQUVBN0MsS0FBQTBCLE1BQUE2QixFQUFBLEdBQWdDdkQsS0FBQTBCLE1BQUFPLEdBQ2hDakMsS0FBQTBCLE1BQUF3QyxZQUFBbEUsS0FBQTBCLE1BQUFrQixPQUFBeEMsUUFDQUosS0FBQTBCLE1BQUFvQyxLQUFBWCxRQUFBLFNBQUFnQixHQUNBQSxFQUFBaEIsUUFBQSxTQUFBaUIsR0FDQUEsRUFBQUMsVUFBQXJCLEVBQUF0QixNQUFBa0IsWUFHQTVDLEtBQUFxRCxPQWdHQSxPQTlGQTdFLE9BQUFDLGVBQUFvRixFQUFBbkUsVUFBQSxVQUNBZixJQUFBLFdBQ0EsT0FBQXFCLEtBQUEwQixNQUFBWSxPQUFBbEMsU0FFQXdCLElBQUEsU0FBQTdDLEdBQ0FpQixLQUFBMEIsTUFBQVksT0FBQXZELEdBRUFMLFlBQUEsRUFDQXlCLGNBQUEsSUFFQTBELEVBQUFuRSxVQUFBcUQsS0FBQSxTQUFBRCxRQUNBLElBQUFBLElBQWtDQSxFQUFBLEdBQ2xDLElBQUFaLEVBQUFsQyxLQUFBMEIsTUFBQVksRUFBQUosRUFBQUksT0FBQTRCLEVBQUFoQyxFQUFBZ0MsWUFBQUQsRUFBQS9CLEVBQUErQixZQUNBdEQsRUFBQUMsS0FBQXFDLElBQUFnQixFQUFBbkMsRUFBQWIsTUFBQU4sU0FBQTJCLEVBQUE0QixFQUFBdkMsUUFDQTNCLEtBQUFzRSxZQUFBeEIsRUFBQW5DLEdBQ0FYLEtBQUF1RSxTQUFBekIsRUFBQW5DLElBRUFrRCxFQUFBbkUsVUFBQTJELEtBQUEsV0FDQXJELEtBQUF3RSxjQUNBeEUsS0FBQTBCLE1BQUEyQixNQUFBckQsS0FBQTBCLE1BQUEyQixLQUFBLEdBQUFyRCxLQUFBMEIsTUFBQW9DLEtBQUFKLFFBRUFHLEVBQUFuRSxVQUFBOEUsWUFBQSxXQUNBeEUsS0FBQTBCLE1BQUF3QyxZQUFBbEUsS0FBQTBCLE1BQUFrQixPQUFBeEMsUUFDQUosS0FBQTBCLE1BQUFvQyxLQUFBWCxRQUFBLFNBQUFnQixHQUNBQSxFQUFBaEIsUUFBQSxTQUFBaUIsR0FDQUEsRUFBQUksbUJBSUFYLEVBQUFuRSxVQUFBNEUsWUFBQSxTQUFBeEIsRUFBQW5DLEdBQ0EsSUFBQXVCLEVBQUFsQyxLQUFBMEIsTUFBQVksRUFBQUosRUFBQUksT0FBQU0sRUFBQVYsRUFBQVUsT0FBQXNCLEVBQUFoQyxFQUFBZ0MsWUFBQUQsRUFBQS9CLEVBQUErQixZQUFBRCxFQUFBOUIsRUFBQThCLFlBQUFuQixFQUFBWCxFQUFBVyxnQkFDQTRCLEVBQUE3RCxLQUFBRyxNQUFBdUIsRUFBQXBDLEVBQUFnRSxFQUFBaEUsRUFBQW9DLEVBQUFyQyxFQUFBaUUsRUFBQWpFLEdBQ0F5RSxFQUFBOUQsS0FBQStELEtBQUFYLEVBQUFwRCxLQUFBcUMsSUFBQWUsRUFBQWxDLEVBQUFkLE1BQUFRLE1BQUFvQixFQUFBOUIsUUFBQTJELEtBQ0E3QixFQUFBOUIsUUFBQWdCLEVBQUFkLE1BQUFPLFVBQUEyQyxFQUFBcEQsU0FBQTRELEVBQUE1QixFQUNBRixFQUFBM0MsRUFBQWlFLEVBQUFqRSxFQUFBVyxLQUFBZ0UsSUFBQWhDLEVBQUE5QixVQUFBSCxFQUFBbUMsR0FDQUYsRUFBQTFDLEVBQUFnRSxFQUFBaEUsRUFBQVUsS0FBQWlFLElBQUFqQyxFQUFBOUIsVUFBQUgsRUFBQW1DLEdBQ0FELEdBQ0FmLEVBQUFiLE1BQUFOLFNBQUEyQixFQUFBTSxFQUFBakIsUUFBQXNDLEdBQ0FwQixFQUFBUCxJQUlBdUIsRUFBQW5FLFVBQUE2RSxTQUFBLFNBQUF6QixFQUFBbkMsR0FDQSxJQUFBcUMsRUFBQWhELEtBQ0FrQyxFQUFBbEMsS0FBQTBCLE1BQUFvQyxFQUFBNUIsRUFBQTRCLEtBQUFsQixFQUFBVixFQUFBVSxPQUFBc0IsRUFBQWhDLEVBQUFnQyxZQUNBSixFQUFBWCxRQUFBLFNBQUFnQixFQUFBVyxHQUlBLEdBSEFYLEVBQUFoQixRQUFBLFNBQUFpQixHQUNBQSxFQUFBVyxPQUFBbkMsS0FFQWtDLElBQUE5QixFQUFBdEIsTUFBQTJCLEtBQUEsQ0FDQSxJQUFBMkIsRUFBQSxJQUFBbEQsRUFBQVosT0FBQWdELEVBQUFqRSxFQUFBVyxLQUFBZ0UsSUFBQWhDLEVBQUE5QixTQUFBSCxFQUFBdUQsRUFBQWhFLEVBQUFVLEtBQUFpRSxJQUFBakMsRUFBQTlCLFNBQUFILEVBQUFpQyxFQUFBOUIsU0FDQXFELEVBQUFoQixRQUFBLFNBQUFpQixHQUNBQSxFQUFBckIsS0FBQWlDLEVBQUFsQyxTQUtBdEUsT0FBQUMsZUFBQW9GLEVBQUFuRSxVQUFBLEtBQ0FmLElBQUEsV0FDQSxPQUFBcUIsS0FBQTBCLE1BQUFrQixPQUFBM0MsR0FFQTJCLElBQUEsU0FBQTdDLEdBQ0FpQixLQUFBMEIsTUFBQWtCLE9BQUEzQyxFQUFBbEIsR0FFQUwsWUFBQSxFQUNBeUIsY0FBQSxJQUVBM0IsT0FBQUMsZUFBQW9GLEVBQUFuRSxVQUFBLEtBQ0FmLElBQUEsV0FDQSxPQUFBcUIsS0FBQTBCLE1BQUFrQixPQUFBMUMsR0FFQTBCLElBQUEsU0FBQTdDLEdBQ0FpQixLQUFBMEIsTUFBQWtCLE9BQUExQyxFQUFBbkIsR0FFQUwsWUFBQSxFQUNBeUIsY0FBQSxJQUVBM0IsT0FBQUMsZUFBQW9GLEVBQUFuRSxVQUFBLFdBQ0FmLElBQUEsV0FDQSxPQUFBcUIsS0FBQTBCLE1BQUFrQixPQUFBOUIsU0FFQWMsSUFBQSxTQUFBN0MsR0FDQWlCLEtBQUEwQixNQUFBa0IsT0FBQTlCLFFBQUEvQixHQUVBTCxZQUFBLEVBQ0F5QixjQUFBLElBRUEzQixPQUFBQyxlQUFBb0YsRUFBQW5FLFVBQUEsUUFDQWYsSUFBQSxXQUNBLE9BQUE0RSxFQUFBLEdBQThCdkQsS0FBQTBCLE1BQUFrQixPQUFBbEMsS0FBQSxDQUEyQm9ELEtBQUE5RCxLQUFBMEIsTUFBQW9DLEtBQUFSLElBQUEsU0FBQWEsR0FBNEMsT0FBQUEsRUFBQWIsSUFBQSxTQUFBYyxHQUFrQyxPQUFBQSxFQUFBMUQsWUFFdkloQyxZQUFBLEVBQ0F5QixjQUFBLElBRUEwRCxFQTNIQSxHQTZIQXZHLEVBQUF5QyxRQUFBOEQsZ0NDM0lBLElBQUFOLEVBQUF2RCxXQUFBdUQsVUFBQSxXQVNBLE9BUkFBLEVBQUEvRSxPQUFBZ0YsUUFBQSxTQUFBeEUsR0FDQSxRQUFBYSxFQUFBL0IsRUFBQSxFQUFBeUIsRUFBQWtFLFVBQUFDLE9BQWdENUYsRUFBQXlCLEVBQU96QixJQUV2RCxRQUFBOEIsS0FEQUMsRUFBQTRELFVBQUEzRixHQUNBVSxPQUFBa0IsVUFBQUMsZUFBQTFCLEtBQUE0QixFQUFBRCxLQUNBWixFQUFBWSxHQUFBQyxFQUFBRCxJQUVBLE9BQUFaLElBRUEyRSxNQUFBM0QsS0FBQXlELFlBRUFqRixPQUFBQyxlQUFBbkIsRUFBQSxjQUE4Q3lCLE9BQUEsSUFDOUMsSUFBQStDLEVBQWFsRSxFQUFRLEdBQ3JCcUgsRUFBQSxXQUNBLFNBQUFBLEVBQUFoRCxHQUNBakMsS0FBQTBCLE1BQUE2QixFQUFBLEdBQWdDdEIsRUFBQSxDQUFZcUIsSUFBQXRELEtBQUFJLE1BQUE2QixFQUFBOEIsUUFBQVQsSUFBQSxTQUFBM0IsR0FBdUQsV0FBQUcsRUFBQVosT0FBQVMsRUFBQTFCLEVBQUEwQixFQUFBekIsRUFBQVUsS0FBQUcsTUFBQVksRUFBQXpCLEVBQUF5QixFQUFBMUIsTUFBNEVpRixZQUFBbEYsS0FBQUksTUFBQTZCLEVBQUE4QixVQTZDL0ssT0EzQ0FrQixFQUFBdkYsVUFBQXFGLE9BQUEsU0FBQW5DLEVBQUF1QyxRQUNBLElBQUFBLElBQStCQSxFQUFBLEdBQy9CLElBQUFqRCxFQUFBbEMsS0FBQTBCLE1BQUFxQyxFQUFBN0IsRUFBQTZCLE9BQUFULEVBQUFwQixFQUFBb0IsSUFDQThCLEVBQUFyQixFQUFBb0IsR0FDQUUsRUFBQS9CLEVBQUE2QixHQUNBeEUsRUFBQW1CLEVBQUFiLE1BQUFOLFNBQUEwRSxFQUFBMUQsTUFBQSxJQUFBRyxFQUFBYixNQUFBLE1BQ0FILEVBQUF1RSxFQUFBdkUsUUFBQThCLEVBQUE5QixRQUNBc0UsRUFBQW5GLEVBQUEyQyxFQUFBM0MsRUFBQVcsS0FBQWdFLElBQUE5RCxHQUFBSCxFQUNBeUUsRUFBQWxGLEVBQUEwQyxFQUFBMUMsRUFBQVUsS0FBQWlFLElBQUEvRCxHQUFBSCxHQUVBc0UsRUFBQXZGLFVBQUEyRSxVQUFBLFNBQUF6QixHQUNBLElBQUFJLEVBQUFoRCxLQUNBQSxLQUFBMEIsTUFBQXFDLE9BQUFaLFFBQUEsU0FBQWlDLEVBQUFELEdBQ0FuQyxFQUFBK0IsT0FBQW5DLEVBQUF1QyxNQUdBRixFQUFBdkYsVUFBQXFELEtBQUEsU0FBQUgsRUFBQUUsR0FDQSxJQUFBWixFQUFBbEMsS0FBQTBCLE1BQUFxQyxFQUFBN0IsRUFBQTZCLE9BQUFtQixFQUFBaEQsRUFBQWdELFlBQUE1QixFQUFBcEIsRUFBQW9CLElBQ0E2QixFQUFBcEIsRUFBQUwsT0FBQSxFQUNBNUMsRUFBQUYsS0FBQUcsTUFBQXVDLEVBQUE2QixHQUFBakYsRUFBQW9ELEVBQUE2QixHQUFBbEYsR0FBQTJDLEVBQUE5QixRQUNBd0UsRUFBQXhELEVBQUFiLE1BQUFOLFNBQUEyQyxFQUFBNkIsR0FBQXhELE1BQUEsSUFBQUcsRUFBQWIsT0FDQXNFLEVBQUEsSUFBQXpELEVBQUFiLE1BQUEyQixFQUFBM0MsRUFBQVcsS0FBQWdFLElBQUE5RCxHQUFBd0UsRUFBQTFDLEVBQUExQyxFQUFBVSxLQUFBaUUsSUFBQS9ELEdBQUF3RSxHQUNBRSxFQUFBNUUsS0FBQUcsTUFBQXdFLEVBQUFyRixFQUFBZ0YsRUFBQUMsR0FBQWpGLEVBQUFxRixFQUFBdEYsRUFBQWlGLEVBQUFDLEdBQUFsRixHQUNBVSxFQUFBbUIsRUFBQWIsTUFBQU4sU0FBQTRFLEVBQUFMLEVBQUFDLElBQ0FwQixFQUFBb0IsR0FBQWxGLEVBQUFpRixFQUFBQyxHQUFBbEYsRUFBQVcsS0FBQWdFLElBQUFZLElBQ0E3RSxFQUFBbUMsR0FDQWlCLEVBQUFvQixHQUFBakYsRUFBQWdGLEVBQUFDLEdBQUFqRixFQUFBVSxLQUFBaUUsSUFBQVcsSUFDQTdFLEVBQUFtQyxJQUVBbUMsRUFBQXZGLFVBQUE4RSxZQUFBLFdBQ0F4RSxLQUFBMEIsTUFBQXdELFlBQUFsRixLQUFBSSxTQUVBNUIsT0FBQUMsZUFBQXdHLEVBQUF2RixVQUFBLFFBQ0FmLElBQUEsV0FDQSxPQUFBcUIsS0FBQTBCLE1BQUFxQyxPQUFBVCxJQUFBLFNBQUE4QixHQUEyRCxPQUFBQSxFQUFBMUUsUUFFM0RoQyxZQUFBLEVBQ0F5QixjQUFBLElBRUE4RSxFQUFBdkYsVUFBQVUsTUFBQSxTQUFBMkQsR0FFQSxZQURBLElBQUFBLElBQWdDQSxFQUFBL0QsS0FBQTBCLE1BQUFxQyxRQUNoQ0EsRUFBQVQsSUFBQSxTQUFBOEIsR0FBNEMsT0FBQUEsRUFBQWhGLFdBRTVDNkUsRUEvQ0EsR0FpREEzSCxFQUFBeUMsUUFBQWtGIiwiZmlsZSI6ImJ1Zy5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiQnVnXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkJ1Z1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJCdWdcIl0gPSBmYWN0b3J5KCk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiR2VvbVwiLFtdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuR2VvbT1lKCk6dC5HZW9tPWUoKX0od2luZG93LGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4ocil7aWYoZVtyXSlyZXR1cm4gZVtyXS5leHBvcnRzO3ZhciBvPWVbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiB0W3JdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLG4pLG8ubD0hMCxvLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUscil7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sbi5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9bih0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkocixcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIG8gaW4gdCluLmQocixvLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwsbykpO3JldHVybiByfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLFwiYVwiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPVwiXCIsbihuLnM9MSl9KFtmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09ZSYmKGU9MCksdGhpcy54PXQsdGhpcy55PWV9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImRhdGFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJue3g6dGhpcy54LHk6dGhpcy55fX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLngsdGhpcy55KX0sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngrPXQueCx0aGlzLnkrPXQueSx0aGlzfSx0LnByb3RvdHlwZS5zdWJ0cmFjdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54LT10LngsdGhpcy55LT10LnksdGhpc30sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhKX0sdC5kaXN0YW5jZT1mdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLnNxcnQoKHQueC1lLngpKih0LngtZS54KSsodC55LWUueSkqKHQueS1lLnkpKX0sdC5yYWRpYW5zPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguYXRhbjIoZS55LXQueSxlLngtdC54KX0sdH0oKTtlLmRlZmF1bHQ9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPW4oMik7ZS5BbmdsZT1yLmRlZmF1bHQ7dmFyIG89bigwKTtlLlBvaW50PW8uZGVmYXVsdDt2YXIgaT1uKDMpO2UuVmVjdG9yPWkuZGVmYXVsdH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC50b1JhZGlhbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHQqTWF0aC5QSS8xODB9LHQudG9EZWdyZWVzPWZ1bmN0aW9uKHQpe3JldHVybiAxODAqdC9NYXRoLlBJfSx0LmludGVycG9sYXRlPWZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gdC5ub3JtYWxpemUoZSt0LmRlbHRhKGUsbikqcil9LHQuZGVsdGE9ZnVuY3Rpb24oZSxuKXt2YXIgcj10Lm5vcm1hbGl6ZShlKSxvPXQubm9ybWFsaXplKG4pLGk9by1yO3JldHVybiBNYXRoLmFicyhpKT5NYXRoLlBJJiYoaT1vLTIqTWF0aC5QSS1yKSxpfSx0Lm5vcm1hbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10JSgyKk1hdGguUEkpO3JldHVybiBlPDAmJihlKz0yKk1hdGguUEkpLGV9LHR9KCk7ZS5kZWZhdWx0PXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1uKDApLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1uJiYobj0wKSx0aGlzLm1vZGVsPXt9LHQgaW5zdGFuY2VvZiByLmRlZmF1bHQ/KHRoaXMubW9kZWwucG9pbnQ9dC5jbG9uZSgpLHRoaXMubW9kZWwucmFkaWFucz1lKToodGhpcy5tb2RlbC5wb2ludD1uZXcgci5kZWZhdWx0KHQsZSksdGhpcy5tb2RlbC5yYWRpYW5zPW4pfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJwb2ludFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RlbC5wb2ludC5jbG9uZSgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kZWwucG9pbnQueH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMubW9kZWwucG9pbnQueD10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kZWwucG9pbnQueX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMubW9kZWwucG9pbnQueT10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInJhZGlhbnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kZWwucmFkaWFuc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMubW9kZWwucmFkaWFucz10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImRhdGFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJue3g6dGhpcy54LHk6dGhpcy55LHJhZGlhbnM6dGhpcy5yYWRpYW5zfX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLnBvaW50LHRoaXMucmFkaWFucyl9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YSl9LHR9KCk7ZS5kZWZhdWx0PW99XSl9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlb20uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgYnVnXzEgPSByZXF1aXJlKFwiLi9idWdcIik7XG5leHBvcnRzLmRlZmF1bHQgPSBidWdfMS5kZWZhdWx0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZ2VvbV8xID0gcmVxdWlyZShcIkBhZHJpYW5sYWZvbmQvZ2VvbVwiKTtcbnZhciBzZWdtZW50XzEgPSByZXF1aXJlKFwiLi9zZWdtZW50XCIpO1xudmFyIEJ1ZyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCdWcob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB2YXIgX2EgPSBvcHRpb25zLngsIHggPSBfYSA9PT0gdm9pZCAwID8gMCA6IF9hLCBfYiA9IG9wdGlvbnMueSwgeSA9IF9iID09PSB2b2lkIDAgPyAwIDogX2IsIF9jID0gb3B0aW9ucy5yYWRpYW5zLCByYWRpYW5zID0gX2MgPT09IHZvaWQgMCA/IDAgOiBfYztcbiAgICAgICAgdmFyIF9kID0gb3B0aW9ucy50YXJnZXQgfHwge30sIF9lID0gX2QueCwgdGFyZ2V0WCA9IF9lID09PSB2b2lkIDAgPyAwIDogX2UsIF9mID0gX2QueSwgdGFyZ2V0WSA9IF9mID09PSB2b2lkIDAgPyAwIDogX2Y7XG4gICAgICAgIHRoaXMubW9kZWwgPSB7XG4gICAgICAgICAgICBzZWdtZW50czogW25ldyBzZWdtZW50XzEuZGVmYXVsdCh7XG4gICAgICAgICAgICAgICAgICAgIHZlY3RvcjogbmV3IGdlb21fMS5WZWN0b3IoeCwgeSwgcmFkaWFucyksXG4gICAgICAgICAgICAgICAgICAgIG9uVGFyZ2V0UmVhY2hlZDogdGhpcy5vblRhcmdldFJlYWNoZWQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgICB9KV0sXG4gICAgICAgICAgICB0YXJnZXQ6IG5ldyBnZW9tXzEuUG9pbnQodGFyZ2V0WCwgdGFyZ2V0WSksXG4gICAgICAgICAgICBwcm9ncmVzczogMCxcbiAgICAgICAgICAgIG9uVGFyZ2V0UmVhY2hlZDogb3B0aW9ucy5vblRhcmdldFJlYWNoZWQgfHwgKGZ1bmN0aW9uICgpIHsgfSksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5tb2RlbC50YXJnZXQ7XG4gICAgfVxuICAgIEJ1Zy5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uIChkZWx0YSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoZGVsdGEgPT09IHZvaWQgMCkgeyBkZWx0YSA9IDE7IH1cbiAgICAgICAgLy8gVE9ETzogSW5jb3Jwb3JhdGUgZGVsdGEgYXMgYW4gb3B0aW9uPyBNYWtlcyBmb3IgdW5zbW9vdGggYW5pbWF0aW9uIGV2ZW5cbiAgICAgICAgLy8gaWYgaW5jb3Jwb3JhdGluZyBpdCBpcyBtb3JlIFwiYWNjdXJhdGVcIi5cbiAgICAgICAgdGhpcy5tb2RlbC5wcm9ncmVzcyA9IE1hdGgubWluKDEsIHRoaXMubW9kZWwucHJvZ3Jlc3MgKyAwLjEpOyAvLyAqIGRlbHRhXG4gICAgICAgIHZhciBpc1N0ZXBDb21wbGV0ZSA9IHRoaXMubW9kZWwucHJvZ3Jlc3MgPj0gMTtcbiAgICAgICAgdGhpcy5tb2RlbC5zZWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChzZWdtZW50KSB7XG4gICAgICAgICAgICBzZWdtZW50LnRpY2soX3RoaXMubW9kZWwucHJvZ3Jlc3MpO1xuICAgICAgICAgICAgaWYgKGlzU3RlcENvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgc2VnbWVudC5zdGVwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaXNTdGVwQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHRoaXMubW9kZWwucHJvZ3Jlc3MgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1Zy5wcm90b3R5cGUsIFwidGFyZ2V0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC50YXJnZXQuZGF0YTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMubW9kZWwudGFyZ2V0LnggPSB2YWx1ZS54O1xuICAgICAgICAgICAgdGhpcy5tb2RlbC50YXJnZXQueSA9IHZhbHVlLnk7XG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNlZ21lbnRzWzBdLnRhcmdldCA9IHRoaXMubW9kZWwudGFyZ2V0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVnLnByb3RvdHlwZSwgXCJ4XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5zZWdtZW50c1swXS54O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZWdtZW50c1swXS54ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWcucHJvdG90eXBlLCBcInlcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGVsLnNlZ21lbnRzWzBdLnk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNlZ21lbnRzWzBdLnkgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1Zy5wcm90b3R5cGUsIFwicmFkaWFuc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwuc2VnbWVudHNbMF0ucmFkaWFucztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2VnbWVudHNbMF0ucmFkaWFucyA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVnLnByb3RvdHlwZSwgXCJzZWdtZW50c1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwuc2VnbWVudHMubWFwKGZ1bmN0aW9uIChzZWdtZW50KSB7IHJldHVybiBzZWdtZW50LmRhdGE7IH0pO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBCdWcucHJvdG90eXBlLm9uVGFyZ2V0UmVhY2hlZCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdGhpcy5tb2RlbC5vblRhcmdldFJlYWNoZWQodGFyZ2V0KTtcbiAgICB9O1xuICAgIHJldHVybiBCdWc7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQnVnO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGdlb21fMSA9IHJlcXVpcmUoXCJAYWRyaWFubGFmb25kL2dlb21cIik7XG52YXIgbGVnXzEgPSByZXF1aXJlKFwiLi9sZWdcIik7XG52YXIgU2VnbWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTZWdtZW50KG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5tb2RlbCA9IHtcbiAgICAgICAgICAgIHZlY3RvcjogbmV3IGdlb21fMS5WZWN0b3IoKSxcbiAgICAgICAgICAgIGxlZ3M6IFtcbiAgICAgICAgICAgICAgICBbbmV3IGxlZ18xLmRlZmF1bHQoeyBqb2ludHM6IFtuZXcgZ2VvbV8xLlBvaW50KDIsIC01KSwgbmV3IGdlb21fMS5Qb2ludCgxMiwgLTE0KV0gfSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBsZWdfMS5kZWZhdWx0KHsgam9pbnRzOiBbbmV3IGdlb21fMS5Qb2ludCgwLCAtNSksIG5ldyBnZW9tXzEuUG9pbnQoMCwgLTE2KV0gfSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBsZWdfMS5kZWZhdWx0KHsgam9pbnRzOiBbbmV3IGdlb21fMS5Qb2ludCgtNCwgLTUpLCBuZXcgZ2VvbV8xLlBvaW50KC04LCAtMTIpXSB9KV0sXG4gICAgICAgICAgICAgICAgW25ldyBsZWdfMS5kZWZhdWx0KHsgam9pbnRzOiBbbmV3IGdlb21fMS5Qb2ludCgyLCA1KSwgbmV3IGdlb21fMS5Qb2ludCgxMiwgMTQpXSB9KSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IGxlZ18xLmRlZmF1bHQoeyBqb2ludHM6IFtuZXcgZ2VvbV8xLlBvaW50KDAsIDUpLCBuZXcgZ2VvbV8xLlBvaW50KDAsIDE2KV0gfSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBsZWdfMS5kZWZhdWx0KHsgam9pbnRzOiBbbmV3IGdlb21fMS5Qb2ludCgtNCwgNSksIG5ldyBnZW9tXzEuUG9pbnQoLTgsIDEyKV0gfSldLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIG1heFJvdGF0aW9uOiBNYXRoLlBJICogMC41LFxuICAgICAgICAgICAgbWF4RGlzdGFuY2U6IDEwLFxuICAgICAgICAgICAgdGFyZ2V0OiBuZXcgZ2VvbV8xLlBvaW50KCksXG4gICAgICAgICAgICB2ZWN0b3JTdGFydDogbmV3IGdlb21fMS5WZWN0b3IoKSxcbiAgICAgICAgICAgIHN0ZXA6IDAsXG4gICAgICAgICAgICBvblRhcmdldFJlYWNoZWQ6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubW9kZWwgPSBfX2Fzc2lnbih7fSwgdGhpcy5tb2RlbCwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMubW9kZWwudmVjdG9yU3RhcnQgPSB0aGlzLm1vZGVsLnZlY3Rvci5jbG9uZSgpO1xuICAgICAgICB0aGlzLm1vZGVsLmxlZ3MuZm9yRWFjaChmdW5jdGlvbiAoc2lkZSkge1xuICAgICAgICAgICAgc2lkZS5mb3JFYWNoKGZ1bmN0aW9uIChsZWcpIHtcbiAgICAgICAgICAgICAgICBsZWcub2Zmc2V0QWxsKF90aGlzLm1vZGVsLnZlY3Rvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RlcCgpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VnbWVudC5wcm90b3R5cGUsIFwidGFyZ2V0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC50YXJnZXQuY2xvbmUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMubW9kZWwudGFyZ2V0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFNlZ21lbnQucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiAocHJvZ3Jlc3MpIHtcbiAgICAgICAgaWYgKHByb2dyZXNzID09PSB2b2lkIDApIHsgcHJvZ3Jlc3MgPSAwOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMubW9kZWwsIHRhcmdldCA9IF9hLnRhcmdldCwgdmVjdG9yU3RhcnQgPSBfYS52ZWN0b3JTdGFydCwgbWF4RGlzdGFuY2UgPSBfYS5tYXhEaXN0YW5jZTtcbiAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5taW4obWF4RGlzdGFuY2UsIGdlb21fMS5Qb2ludC5kaXN0YW5jZSh0YXJnZXQsIHZlY3RvclN0YXJ0LnBvaW50KSk7XG4gICAgICAgIHRoaXMubW92ZVNlZ21lbnQocHJvZ3Jlc3MsIGRpc3RhbmNlKTtcbiAgICAgICAgdGhpcy5tb3ZlTGVncyhwcm9ncmVzcywgZGlzdGFuY2UpO1xuICAgIH07XG4gICAgU2VnbWVudC5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZXN0YXJ0U3RlcCgpO1xuICAgICAgICB0aGlzLm1vZGVsLnN0ZXAgPSAodGhpcy5tb2RlbC5zdGVwICsgMSkgJSB0aGlzLm1vZGVsLmxlZ3MubGVuZ3RoO1xuICAgIH07XG4gICAgU2VnbWVudC5wcm90b3R5cGUucmVzdGFydFN0ZXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubW9kZWwudmVjdG9yU3RhcnQgPSB0aGlzLm1vZGVsLnZlY3Rvci5jbG9uZSgpO1xuICAgICAgICB0aGlzLm1vZGVsLmxlZ3MuZm9yRWFjaChmdW5jdGlvbiAoc2lkZSkge1xuICAgICAgICAgICAgc2lkZS5mb3JFYWNoKGZ1bmN0aW9uIChsZWcpIHtcbiAgICAgICAgICAgICAgICBsZWcucmVzdGFydFN0ZXAoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFNlZ21lbnQucHJvdG90eXBlLm1vdmVTZWdtZW50ID0gZnVuY3Rpb24gKHByb2dyZXNzLCBkaXN0YW5jZSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLm1vZGVsLCB0YXJnZXQgPSBfYS50YXJnZXQsIHZlY3RvciA9IF9hLnZlY3RvciwgdmVjdG9yU3RhcnQgPSBfYS52ZWN0b3JTdGFydCwgbWF4RGlzdGFuY2UgPSBfYS5tYXhEaXN0YW5jZSwgbWF4Um90YXRpb24gPSBfYS5tYXhSb3RhdGlvbiwgb25UYXJnZXRSZWFjaGVkID0gX2Eub25UYXJnZXRSZWFjaGVkO1xuICAgICAgICB2YXIgdGFyZ2V0UmFkaWFucyA9IE1hdGguYXRhbjIodGFyZ2V0LnkgLSB2ZWN0b3JTdGFydC55LCB0YXJnZXQueCAtIHZlY3RvclN0YXJ0LngpO1xuICAgICAgICB2YXIgZGVsdGFSYWRpYW5zID0gTWF0aC5tYXgoLW1heFJvdGF0aW9uLCBNYXRoLm1pbihtYXhSb3RhdGlvbiwgZ2VvbV8xLkFuZ2xlLmRlbHRhKHZlY3Rvci5yYWRpYW5zLCB0YXJnZXRSYWRpYW5zKSkpO1xuICAgICAgICB2ZWN0b3IucmFkaWFucyA9IGdlb21fMS5BbmdsZS5ub3JtYWxpemUodmVjdG9yU3RhcnQucmFkaWFucykgKyBkZWx0YVJhZGlhbnMgKiBwcm9ncmVzcztcbiAgICAgICAgdmVjdG9yLnggPSB2ZWN0b3JTdGFydC54ICsgTWF0aC5jb3ModmVjdG9yLnJhZGlhbnMpICogKGRpc3RhbmNlICogcHJvZ3Jlc3MpO1xuICAgICAgICB2ZWN0b3IueSA9IHZlY3RvclN0YXJ0LnkgKyBNYXRoLnNpbih2ZWN0b3IucmFkaWFucykgKiAoZGlzdGFuY2UgKiBwcm9ncmVzcyk7XG4gICAgICAgIGlmIChvblRhcmdldFJlYWNoZWQpIHtcbiAgICAgICAgICAgIGlmIChnZW9tXzEuUG9pbnQuZGlzdGFuY2UodGFyZ2V0LCB2ZWN0b3IucG9pbnQpIDw9IG1heERpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgb25UYXJnZXRSZWFjaGVkKHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNlZ21lbnQucHJvdG90eXBlLm1vdmVMZWdzID0gZnVuY3Rpb24gKHByb2dyZXNzLCBkaXN0YW5jZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSB0aGlzLm1vZGVsLCBsZWdzID0gX2EubGVncywgdmVjdG9yID0gX2EudmVjdG9yLCB2ZWN0b3JTdGFydCA9IF9hLnZlY3RvclN0YXJ0O1xuICAgICAgICBsZWdzLmZvckVhY2goZnVuY3Rpb24gKHNpZGUsIHNpZGVJbmRleCkge1xuICAgICAgICAgICAgc2lkZS5mb3JFYWNoKGZ1bmN0aW9uIChsZWcpIHtcbiAgICAgICAgICAgICAgICBsZWcub2Zmc2V0KHZlY3Rvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChzaWRlSW5kZXggPT09IF90aGlzLm1vZGVsLnN0ZXApIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0VmVjdG9yXzEgPSBuZXcgZ2VvbV8xLlZlY3Rvcih2ZWN0b3JTdGFydC54ICsgTWF0aC5jb3ModmVjdG9yLnJhZGlhbnMpICogZGlzdGFuY2UsIHZlY3RvclN0YXJ0LnkgKyBNYXRoLnNpbih2ZWN0b3IucmFkaWFucykgKiBkaXN0YW5jZSwgdmVjdG9yLnJhZGlhbnMpO1xuICAgICAgICAgICAgICAgIHNpZGUuZm9yRWFjaChmdW5jdGlvbiAobGVnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZy50aWNrKHRhcmdldFZlY3Rvcl8xLCBwcm9ncmVzcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlZ21lbnQucHJvdG90eXBlLCBcInhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGVsLnZlY3Rvci54O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5tb2RlbC52ZWN0b3IueCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VnbWVudC5wcm90b3R5cGUsIFwieVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwudmVjdG9yLnk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGVsLnZlY3Rvci55ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZWdtZW50LnByb3RvdHlwZSwgXCJyYWRpYW5zXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC52ZWN0b3IucmFkaWFucztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMubW9kZWwudmVjdG9yLnJhZGlhbnMgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlZ21lbnQucHJvdG90eXBlLCBcImRhdGFcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgdGhpcy5tb2RlbC52ZWN0b3IuZGF0YSwgeyBsZWdzOiB0aGlzLm1vZGVsLmxlZ3MubWFwKGZ1bmN0aW9uIChzaWRlKSB7IHJldHVybiAoc2lkZS5tYXAoZnVuY3Rpb24gKGxlZykgeyByZXR1cm4gbGVnLmRhdGE7IH0pKTsgfSkgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBTZWdtZW50O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFNlZ21lbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZ2VvbV8xID0gcmVxdWlyZShcIkBhZHJpYW5sYWZvbmQvZ2VvbVwiKTtcbnZhciBMZWcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVnKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tb2RlbCA9IF9fYXNzaWduKHt9LCBvcHRpb25zLCB7IG1hcDogdGhpcy5jbG9uZShvcHRpb25zLmpvaW50cykubWFwKGZ1bmN0aW9uIChwb2ludCkgeyByZXR1cm4gbmV3IGdlb21fMS5WZWN0b3IocG9pbnQueCwgcG9pbnQueSwgTWF0aC5hdGFuMihwb2ludC55LCBwb2ludC54KSk7IH0pLCBqb2ludHNTdGFydDogdGhpcy5jbG9uZShvcHRpb25zLmpvaW50cykgfSk7XG4gICAgfVxuICAgIExlZy5wcm90b3R5cGUub2Zmc2V0ID0gZnVuY3Rpb24gKHZlY3RvciwgaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSB2b2lkIDApIHsgaW5kZXggPSAwOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMubW9kZWwsIGpvaW50cyA9IF9hLmpvaW50cywgbWFwID0gX2EubWFwO1xuICAgICAgICB2YXIgam9pbnQgPSBqb2ludHNbaW5kZXhdO1xuICAgICAgICB2YXIgbWFwSm9pbnQgPSBtYXBbaW5kZXhdO1xuICAgICAgICB2YXIgZGlzdGFuY2UgPSBnZW9tXzEuUG9pbnQuZGlzdGFuY2UobWFwSm9pbnQucG9pbnQsIG5ldyBnZW9tXzEuUG9pbnQoMCwgMCkpO1xuICAgICAgICB2YXIgcmFkaWFucyA9IG1hcEpvaW50LnJhZGlhbnMgKyB2ZWN0b3IucmFkaWFucztcbiAgICAgICAgam9pbnQueCA9IHZlY3Rvci54ICsgTWF0aC5jb3MocmFkaWFucykgKiBkaXN0YW5jZTtcbiAgICAgICAgam9pbnQueSA9IHZlY3Rvci55ICsgTWF0aC5zaW4ocmFkaWFucykgKiBkaXN0YW5jZTtcbiAgICB9O1xuICAgIExlZy5wcm90b3R5cGUub2Zmc2V0QWxsID0gZnVuY3Rpb24gKHZlY3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLm1vZGVsLmpvaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChqb2ludCwgaW5kZXgpIHtcbiAgICAgICAgICAgIF90aGlzLm9mZnNldCh2ZWN0b3IsIGluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWcucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiAodmVjdG9yLCBwcm9ncmVzcykge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLm1vZGVsLCBqb2ludHMgPSBfYS5qb2ludHMsIGpvaW50c1N0YXJ0ID0gX2Euam9pbnRzU3RhcnQsIG1hcCA9IF9hLm1hcDtcbiAgICAgICAgdmFyIGluZGV4ID0gam9pbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgIHZhciByYWRpYW5zID0gTWF0aC5hdGFuMihtYXBbaW5kZXhdLnksIG1hcFtpbmRleF0ueCkgKyB2ZWN0b3IucmFkaWFucztcbiAgICAgICAgdmFyIHJhZGl1cyA9IGdlb21fMS5Qb2ludC5kaXN0YW5jZShtYXBbaW5kZXhdLnBvaW50LCBuZXcgZ2VvbV8xLlBvaW50KCkpO1xuICAgICAgICB2YXIgbGFuZCA9IG5ldyBnZW9tXzEuUG9pbnQodmVjdG9yLnggKyBNYXRoLmNvcyhyYWRpYW5zKSAqIHJhZGl1cywgdmVjdG9yLnkgKyBNYXRoLnNpbihyYWRpYW5zKSAqIHJhZGl1cyk7XG4gICAgICAgIHZhciBsYW5kUmFkaWFucyA9IE1hdGguYXRhbjIobGFuZC55IC0gam9pbnRzU3RhcnRbaW5kZXhdLnksIGxhbmQueCAtIGpvaW50c1N0YXJ0W2luZGV4XS54KTtcbiAgICAgICAgdmFyIGRpc3RhbmNlID0gZ2VvbV8xLlBvaW50LmRpc3RhbmNlKGxhbmQsIGpvaW50c1N0YXJ0W2luZGV4XSk7XG4gICAgICAgIGpvaW50c1tpbmRleF0ueCA9IGpvaW50c1N0YXJ0W2luZGV4XS54ICsgTWF0aC5jb3MobGFuZFJhZGlhbnMpICpcbiAgICAgICAgICAgIChkaXN0YW5jZSAqIHByb2dyZXNzKTtcbiAgICAgICAgam9pbnRzW2luZGV4XS55ID0gam9pbnRzU3RhcnRbaW5kZXhdLnkgKyBNYXRoLnNpbihsYW5kUmFkaWFucykgKlxuICAgICAgICAgICAgKGRpc3RhbmNlICogcHJvZ3Jlc3MpO1xuICAgIH07XG4gICAgTGVnLnByb3RvdHlwZS5yZXN0YXJ0U3RlcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5tb2RlbC5qb2ludHNTdGFydCA9IHRoaXMuY2xvbmUoKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMZWcucHJvdG90eXBlLCBcImRhdGFcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGVsLmpvaW50cy5tYXAoZnVuY3Rpb24gKGpvaW50KSB7IHJldHVybiBqb2ludC5kYXRhOyB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTGVnLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIChqb2ludHMpIHtcbiAgICAgICAgaWYgKGpvaW50cyA9PT0gdm9pZCAwKSB7IGpvaW50cyA9IHRoaXMubW9kZWwuam9pbnRzOyB9XG4gICAgICAgIHJldHVybiBqb2ludHMubWFwKGZ1bmN0aW9uIChqb2ludCkgeyByZXR1cm4gam9pbnQuY2xvbmUoKTsgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gTGVnO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExlZztcbiJdLCJzb3VyY2VSb290IjoiIn0=